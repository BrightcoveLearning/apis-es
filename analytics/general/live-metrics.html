---
title: 'API de análisis: Métricas en vivo'
description: 'Este tema explica las métricas de análisis disponibles para transmisiones en vivo.'

parent: 'General Information' 
grandparent: Analytics API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="introduction">Introducción</h2>

    <p>Métricas de reproducción para transmisiones en vivo proporcionadas por el <strong>Brightcove en Directo</strong> el servicio están disponibles en tiempo real, a través del <strong>API de análisis</strong>. Estos datos se capturan para <em>transmisiones en vivo</em> solamente; La reproducción de VOD no está incluida.</p>

    <p>La API proporciona métricas de transmisión en vivo a través de 2 puntos finales:</p>
    <ul>
      <li><code translate="No">/v1/timeseries</code></li>
      <li><code translate="No">/v1/events</code></li>
    </ul>
    <p>Ambos consultan el mismo conjunto de datos, pero agregan los resultados de manera diferente. Este documento describe el uso y la sintaxis de cada uno.</p>
  </section>

  <section class="bcls-section">
    <h2 id="metrics">Métrica</h2>

    <p>Estas son las métricas disponibles a través de los puntos finales en vivo. Las consultas pueden solicitar múltiples métricas.</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>Métrico</th>
          <th>Descripción</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">alive_ss_ad_start</code></td>
          <td>Impresiones de anuncios del lado del servidor</td>
        </tr>
        <tr>
          <td><code translate="No">ccu</code></td>
          <td>Único <em>sesiones</em>; recuento de distintos<em>huella dactilar</em> + <em>Sesión</em>)</td>
        </tr>
        <tr>
          <td><code translate="No">fingerprint_count</code></td>
          <td>Único <em>dispositivos</em>; recuento de distintos <em>huellas dactilares</em> (vea abajo)</td>
        </tr>
        <tr>
          <td><code translate="No">video_impression</code></td>
          <td>Número de veces que se cargó el video en el reproductor</td>
        </tr>
        <tr>
          <td><code translate="No">video_seconds_viewed</code></td>
          <td>Total de segundos vistos por todos los espectadores</td>
        </tr>
        <tr>
          <td><code translate="No">video_view</code></td>
          <td>La transmisión comienza (no es única)</td>
        </tr>
      </tbody>
    </table>

    <p>Para <strong>único</strong> seguimiento, asignamos un <em>huella dactilar</em> a cada dispositivo combinando (<code translate="No">Remote IP</code> + <code translate="No">User-Agent</code> + <code translate="No">Player</code>). Tenga en cuenta que no usamos una identificación de hardware real del dispositivo en sí; esto reduce la precisión, pero nos mantiene en cumplimiento con la privacidad.</p>
  </section>

  <section class="bcls-section">
    <h2 id="dimensions">Dimensiones</h2>

    <p>Las siguientes combinaciones se admiten como <code translate="No">dimensions</code> y <code translate="No">where</code> claves de filtrado:</p>

    <ul>
      <li><code translate="No">video</code></li>
      <li><code translate="No">video, country</code></li>
      <li><code translate="No">video, device_type</code></li>
    </ul>
  </section>

  <section class="bcls-section">
  <h2 id="query-parameters">Parámetros de consulta</h2>

  <p>Ambos puntos finales Live comparten algunos parámetros comunes que controlan el alcance y la agrupación de la consulta.</p>

  <table class="bcls-table">
    <thead class="bcls-table__head">
      <tr>
        <th>Parámetro</th>
        <th>Sintaxis</th>
        <th style="text-align: center">Necesario</th>
        <th style="text-align: center">Defecto</th>
        <th>Descripción</th>
      </tr>
    </thead>
    <tbody class="bcls-table__body">
      <tr>
        <td>dimensiones</td>
        <td><code translate="No">&lt;dim1&gt;,&lt;dim2&gt;,...</code></td>
        <td style="text-align: center">Y</td>
        <td style="text-align: center">-</td>
        <td>Dimensiones de la consulta (GROUP BY)</td>
      </tr>
      <tr>
        <td>métrica</td>
        <td><code translate="No">&lt;metric1&gt;,&lt;metric2&gt;,...</code></td>
        <td style="text-align: center">Y</td>
        <td style="text-align: center">-</td>
        <td>Una o más métricas para informar</td>
      </tr>
      <tr>
        <td>dónde</td>
        <td><code translate="No">&lt;dim1&gt;==&lt;value1&gt;;...</code></td>
        <td style="text-align: center">Y</td>
        <td style="text-align: center">-</td>
        <td>Uno o más filtros de consulta; debe incluir al menos 1 video</td>
      </tr>
      <tr>
        <td>de</td>
        <td><code translate="No">&lt;epoch&gt;</code></td>
        <td style="text-align: center">N</td>
        <td style="text-align: center">32 días a partir de ahora</td>
        <td>Comienzo del rango de tiempo</td>
      </tr>
      <tr>
        <td>a</td>
        <td><code translate="No">&lt;epoch&gt;</code></td>
        <td style="text-align: center">N</td>
        <td style="text-align: center"><em>ahora</em></td>
        <td>Fin del rango de tiempo</td>
      </tr>
    </tbody>
  </table>
</section>
<section class="bcls-section">
  <h2 id="time-series">Series de tiempo</h2>

  <p>La <code translate="No">/v1/timeseries</code> endpoint devuelve una lista de puntos a lo largo de una línea de tiempo, con el valor de la métrica solicitada en cada momento. Los puntos son <strong>1 minuto</strong> cubos de forma predeterminada, pero se puede cambiar mediante un parámetro.</p>

  <p>En este contexto, las métricas únicas (<code translate="No">ccu</code> , <code translate="No">fingerprint_count</code> ) índica el <strong>valor máximo</strong> en cualquier momento durante cada cubo. Entonces una consulta con <code translate="No">bucket_duration=1d</code> devolverá la concurrencia máxima para cada día, mientras que una consulta con <code translate="No">bucket_limit=1</code> devolverá la concurrencia máxima en cualquier punto de la secuencia.</p>

  <h3 id="uri">URI</h3>

  <p><code translate="No">/v1/timeseries/accounts/{account_id}</code></p>

  <h3 id="additional-parameters">Parámetros adicionales</h3>

  <table class="bcls-table">
    <thead class="bcls-table__head">
      <tr>
        <th>Parámetro</th>
        <th>Sintaxis</th>
        <th style="text-align: center">Necesario</th>
        <th style="text-align: center">Defecto</th>
        <th>Descripción</th>
      </tr>
    </thead>
    <tbody class="bcls-table__body">
      <tr>
        <td>bucket_duration</td>
        <td><code translate="No">&lt;n&gt;m</code>&nbsp;(minutos)<br><code translate="No">&lt;n&gt;h</code>(horas)<br><code translate="No">&lt;n&gt;d</code>(dias)</td>
        <td style="text-align: center">N</td>
        <td style="text-align: center">1 m</td>
        <td>Duración representada por cada punto. <code translate="No">1d</code> es de 24 horas, no un día calendario.</td>
      </tr>
      <tr>
        <td>bucket_limit</td>
        <td><code translate="No">&lt;n&gt;</code></td>
        <td style="text-align: center">N</td>
        <td style="text-align: center">-</td>
        <td>Número de puntos a devolver. Utilizar cualquiera <code translate="No">bucket_duration</code> o <code translate="No">bucket_limit</code> , pero no ambos juntos.</td>
      </tr>
    </tbody>
  </table>

  <h3 id="response">Respuesta</h3>

<pre class="line-numbers"><code class="language-json" translate="No">{
"&lt;metric1&gt;": {
"data": [
  {
    "dimensions": {
        "account": "&lt;account&gt;",
        "&lt;dim1&gt;": "&lt;key1&gt;",
        ...
        "&lt;dimN&gt;": "&lt;keyN&gt;"
      },
    "points": [
      {
        "timestamp": &lt;bucket1&gt;,
        "value": &lt;value1&gt;
      },
      ...,
      {
        "timestamp": &lt;bucketN&gt;,
        "value": &lt;valueN&gt;
      },
    ]
  }
]
},
"&lt;metric2&gt;": {
...
},
...
}
</code></pre>
</section>

<section class="bcls-section">
  <h2 id="events">Eventos</h2>

  <p>La <code translate="No">/v1/events</code> endpoint devuelve totales de métricas para todo o parte de una transmisión de video en vivo.</p>

  <p>En este contexto, las métricas únicas (<code translate="No">ccu</code> , <code translate="No">fingerprint_count</code> ) representan el <strong>valor total</strong> sobre el rango de consulta. Por ejemplo, una consulta sin <code translate="No">from</code>/<code translate="No">to</code> Los parámetros devolverán el número total de <em>único</em> sesiones (ccu) y / o dispositivos (fingerprint_count) para toda la transmisión.</p>

  <h3 id="uri-1">URI</h3>

  <p><code translate="No">/v1/events/accounts/{account_id}</code></p>

  <h3 id="additional-parameters-1">Parámetros adicionales</h3>

  <p><em>ninguno</em></p>

  <h3 id="response-1">Respuesta</h3>

<pre class="line-numbers"><code class="language-json" translate="No">{
"data": [
{
  "dimensions": {
    "account": "&lt;account&gt;",
    "&lt;dim1&gt;": "&lt;key1&gt;",
    ...
    "&lt;dimN&gt;": "&lt;keyN&gt;"
  },
  "totals": {
    "&lt;metric1&gt;": &lt;value1&gt;,
    ...
    "&lt;metricN&gt;": &lt;valueN&gt;
  }
}
]
}
</code></pre>


  <h3 id="export">Exportar</h3>

  <p>El punto final de Eventos también proporciona un informe descargable:</p>

  <p><code translate="No">/v1/events/accounts/{account_id}/videos/{video_id}/export?format=xlsx</code></p>

  <p>La respuesta es una <strong>XLSX</strong> archivo con métricas en vivo en 4 hojas:</p>
  <ul>
    <li>Resumen</li>
    <li>Usuarios concurrentes</li>
    <li>Vistas por tipo de dispositivo</li>
    <li>Vistas por geografía</li>
  </ul>
</section>

<section class="bcls-section">
  <h2 id="usage-examples">Ejemplos de uso</h2>

  <p>Para todos estos ejemplos, usaremos <strong>Cuenta 1234</strong> , <strong>Video 5555</strong> , y suponga una hora actual de <strong>12:00:00 PM UTC</strong> en <strong>15 de febrero de 2020</strong>.</p>

  <hr>
  <h4 id="get-the-current-viewer-count-ccu-for-a-live-stream-or-channel">Obtenga el recuento de espectadores actual (CCU) para una transmisión en vivo o un canal</h4>

  <p>Colocar <em>de</em> hasta hace al menos 2 minutos (11:58 a. m.) y usa el último <em>punto</em> en la respuesta.</p>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;from=1581767880000</code></p>

  <hr>
  <h4 id="get-ccu-graph-points-for-a-live-stream-over-the-past-24-hours">Obtenga puntos de gráficos de CCU para una transmisión en vivo durante las últimas 24 horas</h4>

  <h5 id="zoom-in-1-minute-points">Acercar (puntos de 1 minuto)</h5>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;from=1581681600000&amp;bucket_duration=1m</code></p>

  <h5 id="zoom-out-1-hour-points">Alejar (puntos de 1 hora)</h5>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;from=1581681600000&amp;bucket_duration=1h</code></p>

  <hr>
  <h4 id="get-the-maximum-ccu-per-day-for-a-live-channel-over-the-past-7-days">Obtenga el máximo de CCU por día para un canal en vivo durante los últimos 7 días</h4>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;from=1581206400000&amp;bucket_duration=7d</code></p>

  <hr>
  <h4 id="get-the-maximum-ccu-at-any-time-during-a-live-stream">Obtenga la CCU máxima en cualquier momento durante una transmisión en vivo</h4>

  <p><code translate="No">/v1/timeseries/accounts/1234?dimensions=video&amp;metrics=ccu&amp;where=video==5555&amp;bucket_limit=1</code></p>

  <hr>
  <h4 id="get-the-total-unique-viewers-and-seconds-viewed-for-multiple-live-streams">Obtenga el total de espectadores únicos y segundos vistos para múltiples transmisiones en vivo</h4>

  <p>Se completó el video 5555; los números son definitivos. El video 5556 aún está activo; los números son totales acumulados.</p>

  <p><code translate="No">/v1/events/accounts/1234?dimensions=video&amp;metrics=fingerprint_count,video_seconds_viewed&amp;where=video==5555,5556</code></p>

  <hr>
  <h4 id="get-the-viewership-and-ad-totals-for-an-hour-long-program-on-a-live-channel">Obtenga los totales de audiencia y anuncios de un programa de una hora en un canal en vivo &lt;</h4>

  <p>Programa transmitido de 10:00 a.m. a 11:00 a.m. (UTC)</p>

  <p><code translate="No">/v1/events/accounts/1234?dimensions=video&amp;metrics=alive_ss_ad_start,video_view,fingerprint_count&amp;where=video==5555&amp;from=1581760800000&amp;to=1581764399999</code></p>

  <hr>
  <h4 id="get-viewership-by-country-for-the-duration-of-a-live-stream">Obtenga audiencia por país durante la duración de una transmisión en vivo</h4>

  <p><code translate="No">/v1/events/accounts/1234?dimensions=video,country&amp;metrics=video_view,fingerprint_count&amp;where=video==5555</code></p>
</section>

</article>