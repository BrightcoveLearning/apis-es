---
title: 'Obtenga un token de acceso'
description: 'Esta muestra recupera un token de acceso de la API de Brightcove OAuth desde una aplicación web y envía la solicitud a través de un proxy.'
parent: Code Samples 
grandparent: OAuth API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">Introducción</h2>

    <p>Obtener tokens de acceso es una operación crucial para la mayoría de los trabajos con las API de Brightcove, ya que la mayoría de ellos usa tokens de acceso para autenticar solicitudes.</p>

    <p>Para obtener una explicación completa de los tokens de acceso, consulte <a href="/oauth/getting-started/overview-oauth-api-v4.html">cómo funciona el servicio Brightcove OAuth</a> y <a href="/oauth/guides/getting-access-tokens.html">Obtener tokens de acceso</a>.</p>

    <p>Este ejemplo le muestra cómo obtener un token de acceso desde una aplicación web. Debido a que la OAuth API no está habilitada para CORS y las solicitudes deben realizarse desde el lado del servidor, la aplicación envía información a un proxy, que luego realiza la solicitud de la API y envía la respuesta al cliente. El proxy aquí está escrito en PHP, pero cualquier lenguaje del lado del servidor servirá; solo necesita poder enviar una solicitud POST a la aplicación a través de Internet.</p>

    <aside class="bcls-aside bcls-aside--information">Esta muestra y el código asociado se proporcionan como una guía para su desarrollo de producción. El código no está certificado para uso en producción ni se admite oficialmente.</aside>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="gettingCredentials">Obtener credenciales</h2>
      </summary>

      <p>Conseguir un <code translate="No">client_id</code> y <code translate="No">client_secret</code> , deberá ir a la interfaz de usuario de OAuth y registrar esta aplicación:</p>

      <ul>
        <li><a href="/general/managing-api-authentication-credentials.html">Administrar las credenciales de autenticación de API</a></li>
      </ul>

      <p>Estos eligen los permisos que necesitará para la API que va a utilizar:</p>

      <figure class="bcls-figure"><img class="bcls-image" alt="API Permissions" src="/assets/images/oauth/guides/studio-api-operations.png" />
        <figcaption class="bcls-caption--image">Permisos de API</figcaption>
      </figure>

      <p>También puede obtener sus credenciales a través de CURL o Postman; consulte:</p>

      <ul>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-curl.html">Obtener credenciales de cliente mediante CURL</a></li>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-postman.html">Obtenga las credenciales del cliente con Postman</a></li>
      </ul>

      <p>Si obtiene las credenciales directamente de la OAuth API, consulte <a href="/oauth/guides/api-operations-client-credentials-requests.html">Operaciones de API para solicitudes de credenciales de cliente</a> para los permisos que necesita para diferentes operaciones de API.</p>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="get_access_token_app">Obtener la aplicación de token de acceso</h2>
    <h3>Código fuente</h3>
    <p>Encuentre todo el código asociado con esta muestra en este <a href="https://github.com/BrightcoveLearning/18520-oauth-api-sample-get-access-token">Repositorio de GitHub</a>.</p>
    <h3>Aplicación de muestra</h3>
    <p data-height="800" data-theme-id="34967" data-slug-hash="LmxBMG" data-default-tab="result" data-user="rcrooks1969" data-embed-version="2" data-pen-title="OAuth API Sample: Get an Access Token" class="codepen">Ver la pluma <a href="https://codepen.io/team/rcrooks1969/pen/LmxBMG/">Ejemplo de OAuth API: Obtenga un token de acceso</a> por Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969"> rcrooks1969</a> ) en <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="Using_the_CodePen">Usando el CodePen</h2>
      </summary>

      <p>A continuación, se incluyen algunos consejos para utilizar eficazmente el CodePen anterior:</p>

      <ul>
        <li>Cambie la visualización real del reproductor haciendo clic en el <strong>Resultado</strong> botón.</li>
        <li>Haga clic en el <strong>HTML / CSS / JS</strong> botones para mostrar UNO de los tipos de código.</li>
        <li>Hacer clic <strong>Editar en CodePen</strong> en la esquina superior derecha para bifurcar este CodePen en su propia cuenta.</li>
        <li>Encuentre todo el código asociado con esta muestra en este <a href="https://github.com/BrightcoveLearning/18520-oauth-api-sample-get-access-token">Repositorio de GitHub</a>.</li>
      </ul>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="proxy">Código de proxy</h2>

    <p>Para crear su propia versión de la aplicación de muestra en esta página, debe crear y alojar su propio proxy. (Los proxies utilizados por Brightcove Learning Services solo aceptan solicitudes de dominios de Brightcove). A continuación se muestra una versión del código de proxy sin las restricciones de origen.</p>

    <pre class="line-numbers">
    <code class="language-php">&lt;? php / ** * access-token-proxy.php - proxy para las API RESTful de Brightcove * obtiene un token de acceso y lo devuelve * Accediendo: * (tenga en cuenta que debe * siempre * acceder al proxy a través de HTTPS) * Método: POST * * @post {string} client_id: ID de cliente de OAuth2 con permisos suficientes para la solicitud * @post {string} client_secret: secreto de cliente OAuth2 con permisos suficientes para la solicitud * * @returns {string} $ respuesta: respuesta JSON recibida de la OAuth API * / // Habilitación de CORS y otros encabezados de encabezado ("Access-Control-Allow-Origin: *"); encabezado ("Tipo de contenido: aplicación / json"); encabezado ("X-Content-Type-Options: nosniff"); encabezado ("Protección X-XSS"); // tenga en cuenta que si está utilizando este proxy para una sola credencial // puede simplemente codificar la identificación del cliente y el secreto a continuación en lugar de pasarlos $ client_id = $ _POST ["client_id"]; $ secreto_cliente = $ _POST ["secreto_cliente"]; $ auth_string = "{$client_id}:{$client_secret}"; $ request =" https://oauth.brightcove.com/v4/access_token?grant_type=client_credentials "; $ ch = curl_init ($ request); curl_setopt_array ($ ch, array (CURLOPT_POST =&gt; TRUE, CURLOPT_RETURNTRUEFER =&gt; TRUEANSFER , CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_USERPWD =&gt; $ auth_string, CURLOPT_HTTPHEADER =&gt; array ('Tipo de contenido: aplicación / x-www-form-urlencoded',))); $ respuesta = curl_exec ($ chose); ); // Verifica si hay errores si ($ respuesta === FALSO) { die(curl_error($ch)); echo 'An error occurred'; } demás { echo $response; } ?&gt; </code></pre>
  </section>
</article>