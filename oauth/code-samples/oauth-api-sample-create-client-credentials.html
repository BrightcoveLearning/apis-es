---
title: 'Crear credenciales de cliente'
description: 'Esta muestra le permite crear credenciales de cliente para una o más cuentas, asignándoles los permisos de API que elija.'
parent: Code Samples 
grandparent: OAuth API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">Introducción</h2>

    <p>Obtener credenciales de cliente es un requisito previo único para obtener tokens de acceso, que la mayoría de las API de Brightcove utilizan para autenticar solicitudes.</p>

    <p>Para obtener una explicación completa de las credenciales del cliente, consulte <a href="/oauth/getting-started/overview-oauth-api-v4.html">cómo funciona el servicio Brightcove OAuth</a>.</p>

    <p>Este ejemplo le muestra cómo obtener credenciales de cliente desde una aplicación web. Debido a que la OAuth API no está habilitada para CORS y las solicitudes deben realizarse desde el lado del servidor, la aplicación envía la información necesaria a un proxy, que luego realiza la solicitud de la API y envía la respuesta al cliente. El proxy aquí está escrito en PHP, pero cualquier lenguaje del lado del servidor servirá; solo necesita poder enviar una solicitud POST a la aplicación a través de Internet.</p>

    <aside class="bcls-aside bcls-aside--information">Esta muestra y el código asociado se proporcionan como una guía para su desarrollo de producción. El código no está certificado para uso en producción ni se admite oficialmente.</aside>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="gettingCredentials">Obteniendo tu BC_TOKEN</h2>
      </summary>

      <p>Conseguir un <code translate="No">client_id</code> y <code translate="No">client_secret</code> a través de la OAuth API, necesitará un <code translate="No">BC_TOKEN</code> para autenticar su solicitud. Su BC_TOKEN se configura como una cookie cuando inicia sesión en Studio. Puede obtener esa cookie de la forma que desee, pero para que sea más fácil, hemos creado el siguiente fragmento de JavaScript: puede pegarlo en la consola del desarrollador cuando inicie sesión en Studio, presione <strong>regreso</strong> , y aparecerá un mensaje que contiene BC_TOKEN:</p>
      <textarea class="bcls-code">var cookiesArray = document.cookie.split (";"), cookiesObj = {} , yo, tmpArray = []; para (i = 0; i &lt;cookiesArray.length; i ++) { tmpArray = cookiesArray[i].split("="); if (tmpArray[0].indexOf('BC_TOKEN') &gt; -1) { cookiesObj.BC_TOKEN = tmpArray[1]; } } window.prompt ("BC_TOKEN:", cookiesObj.BC_TOKEN);</textarea>

      <aside class="bcls-aside bcls-aside--information">Tenga en cuenta que debe ser administrador de su cuenta (u obtener BC_TOKEN de administrador) para poder crear credenciales de cliente. Si no tiene un administrador BC_TOKEN, la solicitud a continuación devolverá un error.</aside>
    </details>
  </section>

  <section class="bcls-section">
    <h2 id="get_credentials_app">Obtener la aplicación de credenciales</h2>
    <h3>Código fuente</h3>
    <p>Encuentre todo el código asociado con esta muestra en este <a href="https://github.com/BrightcoveLearning/18521-oauth-api-sample-create-client-credentials">Repositorio de GitHub</a>.</p>
    <h3>Aplicación de muestra</h3>
    <p class="codepen" data-height="1800" data-theme-id="0" data-default-tab="result" data-user="rcrooks1969" data-slug-hash="BxpxXe" style="height: 265px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="OAuth API Sample: Create Client Credentials"><span>Ver la pluma <a href="https://codepen.io/team/rcrooks1969/pen/BxpxXe/"> Ejemplo de OAuth API: Crear credenciales de cliente</a> por Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969"> rcrooks1969</a> ) en <a href="https://codepen.io">CodePen</a>.</span></p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>

    <section class="bcls-section">
      <details>
        <summary>
          <h2 id="Using_the_CodePen">Usando el CodePen</h2>
        </summary>

        <p>A continuación, se incluyen algunos consejos para utilizar eficazmente el CodePen anterior:</p>

        <ul>
          <li>Cambie la visualización real del reproductor haciendo clic en el <strong>Resultado</strong> botón.</li>
          <li>Haga clic en el <strong>HTML / CSS / JS</strong> botones para mostrar UNO de los tipos de código.</li>
          <li>Hacer clic <strong>Editar en CodePen</strong> en la esquina superior derecha para bifurcar este CodePen en su propia cuenta.</li>
          <li>Encuentre todo el código asociado con esta muestra en este <a href="https://github.com/BrightcoveLearning/18521-oauth-api-sample-create-client-credentials">Repositorio de GitHub</a>.</li>
        </ul>
      </details>
    </section>

    <section class="bcls-section">
      <h2 id="proxy">Código de proxy</h2>

      <p>Para crear su propia versión de la aplicación de muestra en esta página, debe crear y alojar su propio proxy. Este proxy es algo diferente al proxy utilizado para la mayoría de nuestras aplicaciones de muestra, porque la autenticación para el método de OAuth API para crear credenciales de cliente es diferente a la de autenticación de API general. A continuación, se muestra el código completo para el proxy utilizado aquí.</p>

      <pre class="line-numbers">
        <code class="language-php">&lt;? php / ** * client-credentials-proxy.php - proxy para las API RESTful de Brightcove * obtiene una identificación de cliente y un secreto de cliente y devuelve la respuesta completa * Accediendo: * (tenga en cuenta que * siempre * debe acceder al proxy a través de HTTPS) * Método: POST * * @post {string} bc_token - BC_TOKEN con permisos de administrador en todas las cuentas para las que se solicitan credenciales * @post {JSONstring} requestBody: el cuerpo completo de la solicitud como una cadena JSON * * @returns {string} $ respuesta - Respuesta JSON recibida de la OAuth API * / // verificaciones de seguridad si (strpos ($ _ SERVER ['HTTP_REFERER'], 'solutions.brightcove.com') == false &amp;&amp; strpos ($ _ SERVER ['HTTP_REFERER'], 'ondemand.brightcovelearning.com') == false &amp;&amp; strpos ($ _ SERVER ['HTTP_REFERER'], 'video.brightcovelearning.com') == false &amp;&amp; strpos ($ _ SERVER ['HTTP_REFERER'], 's.codepen.io ') == false &amp;&amp; strpos ($ _ SERVER [' HTTP_REFERER '],' fiddle.jshell.net ') == false &amp;&amp; strpos ($ _ SERVER [' HTTP_REFERER '],' players.brightcove.net ') == false &amp;&amp; strpos ($ _ SERVER ['HTTP_REFERER'], 'support.brightcove.com') == false &amp;&amp; strpos ($ _ SERVER ['HTTP_REFERER'], 'master-7rqtwti-6sglloa4yrkti.us.platform.sh') == falso) { exit('{"ERROR":"Only requests from http://docs.brightcove.com or http:solutions.brightcove.com are accepted by this proxy"}'); } // Habilitación de CORS y otros encabezados ("Access-Control-Allow-Origin: *"); encabezado ("Tipo de contenido: aplicación / json"); encabezado ("X-Content-Type-Options: nosniff"); encabezado ("Protección X-XSS"); // obtener datos o morir si ($ _POST ["requestBody"]) { $data = json_decode($_POST["requestBody"]); } demás { exit("request body missing"); } // obtener el tipo de solicitud o por defecto POST if ($ _POST ["requestType"]) { $method = $_POST["requestType"]; } demás { $method = 'POST'; } // obtener bc_token o morir si ($ _POST ["bc_token"]) { $bc_token = $_POST["bc_token"]; } demás { exit("bc_token missing"); } $ request = "https://oauth.brightcove.com/v4/client_credentials"; $ ch = curl_init ($ solicitud); curl_setopt_array ($ ch, array (CURLOPT_CUSTOMREQUEST =&gt; $ método, CURLOPT_RETURNTRANSFER =&gt; TRUE, CURLOPT_SSL_VERIFYPEER =&gt; FALSE, CURLOPT_HTTPHEADER =&gt; array ('Content-type', application / Authorization BC_TOKEN {$bc_token} "), CURLOPT_POSTFIELDS =&gt; json_encode ($ data))); $ response = curl_exec ($ ch); curl_close ($ ch); // Verifica si hay errores si ($ response === FALSE) { die(curl_error($ch)); exit('An error occurred on making the request'); } demás { echo $response; } ?&gt; </code></pre>
    </section>
  </section>
</article>