---
title: 'Ingesta de archivos WebVTT'
description: 'Dynamic Ingest se puede utilizar para ingerir archivos WebVTT (para títulos, subtítulos, capítulos, etc.) con su video, o por separado, después de que el video se haya ingerido. Para los videos de Dynamic Delivery, también puede ingerir subtítulos SRT, DFXP o SCC. Este tema explica los detalles de cómo agregar archivos de pistas de texto a sus videos usando la API de Ingesta Dinámica.'

parent: 'Ingest Guides' 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="setup">Configuración</h2>
    
    <p>La configuración para las solicitudes de Ingesta dinámica es la misma, ya sea que esté ingiriendo un video, imágenes, un archivo WebVTT o todos estos:</p>
    
    <dl>
      <dt>Solicitar URL</dt>
      <dd>
      <pre>
        <code class="language-http" translate="No">https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span>/ingest-requests</code></pre>
      </dd>
      <dt>Autenticación</dt>
      <dd>La autenticación requiere un token de acceso pasado como <code translate="No">Bearer</code> token en un <code translate="No">Authorization</code> encabezamiento:
      <pre>
        <code class="language-bash" translate="No">Authorization: Bearer {access_token}</code></pre>
      </dd>
    </dl>
    </section>
    
    <section class="bcls-section">
    <h2 id="s3">Nota sobre S3</h2>
    
    <p>Si su WebVTT se extraerá de un depósito de S3 protegido, deberá establecer una política de depósito para permitir que Video Cloud acceda a los archivos. Ver <a href="/dynamic-ingest/general/using-dynamic-ingest-s3.html#setPolicy">Uso de Dynamic Ingest con S3</a> para detalles.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="ingestWebVTT">Ingesta archivos WebVTT</h2>
    
    <p>También puede agregar subtítulos WebVTT a su video o cargarlos para un video existente usando Dynamic Ingest:</p>
    
    <h3>Agregar pistas de texto durante la ingestión de video</h3>
    
    <h4>Solicitar URL</h4>
    
    <pre>
        <code class="language-http" translate="No">https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span>/ingest-requests</code></pre>
    
    <h4>Método</h4>
    
    <p><code translate="No">POST</code></p>
    
    <h4>Cuerpo de solicitud de muestra</h4>
    
    <pre class="line-numbers">
        <code class="language-json" translate="No">{
            "master": {
                "url":"http://learning-services-media.brightcove.com/videos/mp4/Water-Droplet.mp4"
            },
            "capture-images": false,
            "text_tracks": [
                {
        "url": "http://learning-services-media.brightcove.com/captions/for_video/Water-in-Motion.vtt",
        "srclang": "en",
        "kind": "captions",
        "label": "English",
        "default": true
                }
            ]
        }</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="adding_srt_dfxp">Agregar / convertir SRT o DFXP</h2>
    
    <p>Para <strong>Solo videos de Dynamic Delivery</strong> , puede ingerir archivos SRT o DFXP de la misma manera. El sistema de ingesta de Video Cloud los convertirá automáticamente al formato WebVTT y los agregará al video.</p>
    
    <aside class="bcls-aside bcls-aside--information">Tenga en cuenta que:
    <ul>
      <li>El idioma configurado en el archivo DFXP <code translate="No">xml:lang</code> debe coincidir con el valor de la llamada de ingesta para <code translate="No">srclang</code>. Por ejemplo, si el <code translate="No">srclang</code> el valor en la solicitud de ingesta es <code translate="No">en</code> , entonces el archivo DFXP debe contener <code translate="No">xml:lang="en"</code>.</li>
      <li>El formato personalizado en archivos SRT (como el desvanecimiento) se elimina de la pista cuando se convierte a WebVTT.</li>
    </ul>
    </aside>
    
    <pre class="line-numbers">
        <code class="language-json" translate="No">{
            "text_tracks": [
              {
                "url": "http://media.brightcove.com/captions/Water.dfxp",
                "srclang": "fr",
                "kind": "captions",
                "label": "français",
                "default": true
              }
            ]
          }</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="add_to_existing_video">Agregar pistas de texto a videos existentes</h2>
    
    <p>Agregar pistas de texto a videos existentes es exactamente lo mismo, excepto que no necesita ninguna información del video o el perfil en el cuerpo de la solicitud.</p>
    
    <h4>Solicitar URL</h4>
    
    <pre>
        <code class="language-http" translate="No">https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span>/ingest-requests</code></pre>
    
    <h4>Método</h4>
    
    <p><code translate="No">POST</code></p>
    
    <h4>Cuerpo de solicitud de muestra</h4>
    
    <pre class="line-numbers">
        <code class="language-json" translate="No">{
          "text_tracks": [
            {
              "url": "http://learning-services-media.brightcove.com/captions/for_video/Water-in-Motion.vtt",
              "srclang": "es",
              "kind": "captions",
              "label": "Español",
              "default": true
            }
          ]
        }</code></pre>
    
    <aside class="bcls-aside bcls-aside--information">
    <p>Notas:</p>
    
    <ol>
      <li>Los nombres de los archivos de subtítulos solo deben incluir letras (mayúsculas o minúsculas), números, guiones (-) y guiones bajos (_).</li>
      <li>La <code translate="No">label</code> para los subtítulos lo utiliza el reproductor de Brightcove para el menú de idioma de los subtítulos. La mejor práctica es utilizar el lenguaje apropiado para la etiqueta. Por ejemplo: <code translate="No">français</code> por <code translate="No">French</code> Etcétera.</li>
      <li>El texto de los subtítulos debe estar codificado en UTF-8 para que se muestre correctamente en idiomas de doble byte como japonés y coreano.</li>
      <li>El valor predeterminado no es por pista, pero se establece en verdadero para todas las pistas del mismo idioma (<code translate="No">srclang</code>).</li>
      <li>Para las imágenes y las pistas de texto, solo se admiten las URL públicas HTTP o HTTPS o las URL de S3 firmadas.</li>
      <li>para las pistas de texto, Dynamic Ingest las agrega / agrega a la lista vtt del video incluso si es una solicitud de recodificación. Deberías usar el <a href="/cms/managing-videos/using-cms-api-add-webvtt-captions-text-tracks.html">API de CMS</a> para gestionarlos (actualizar / eliminar).</li>
      <li>Dynamic Ingest acepta hasta 100 pistas de texto a la vez.</li>
      <li>Aunque <code translate="No">"mime_type": "text/vtt"</code> generalmente es compatible con WebVTT, Dynamic Ingest <strong>no</strong> actualmente permiten ese campo para la ingestión de pistas de texto.</li>
    </ol>
    </aside>
    
    <h3>Agregar pistas de texto a un video activo remoto</h3>
    
    <p>Ver <a href="/cms/managing-videos/using-cms-api-remote-assets.html#addTextTracks">Agregar pistas de texto a videos de activos remotos</a>.</p>
    </section>
    </article>
 