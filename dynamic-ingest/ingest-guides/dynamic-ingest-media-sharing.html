---
title: 'Ingesta dinámica con uso compartido de medios'
description: 'Para compartir videos creados con Dynamic Ingest, el <span translate="No">API de CMS</span> se utiliza. La cuenta para compartir debe tener habilitado el uso compartido de medios; comuníquese con el soporte de Brightcove para verificar esto. El video compartido <span translate="No">API de CMS</span> La solicitud se puede realizar antes de que se complete la transcodificación.'
parent: Ingest Guides 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="introduction">Introducción</h2>
    
    <p>La parte de Ingesta dinámica de esta guía no es diferente del proceso discutido en otros documentos y muestras, y también se puede usar la ingesta de video usando el módulo Cargar en Studio. Sin embargo, en aras de la integridad, <a href="https://general.support.brightcove.com/developer/concepts-set-curl.html">rizo</a> Aquí se dan ejemplos para los tres pasos:</p>
    
    <ol>
      <li><a href="#Create_video">Crear video</a></li>
      <li><a href="#Create_the_ingest_request">Crea la solicitud de ingesta</a></li>
      <li><a href="#Share_video_with_CMS_API">Comparte video con la API de CMS</a></li>
    </ol>
    </section>
    
    <section class="bcls-section">
    <h2 id="Authentication">Autenticación</h2>
    
    <p>Todas las solicitudes descritas en este tema requieren autenticación a través del <a href="/oauth/index.html">Sistema Brightcove OAuth</a>.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Create_video">Crear video</h2>
    
    <p>El objeto de video en el sistema Video Cloud se crea usando el <a href="/cms/references/reference.html#api-videoGroup-Create_Video">API de CMS</a>. Aquí hay un ejemplo de rizo:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">MASTER_ACCOUNT_ID</span>/videos \
      --header 'authorization: Bearer OAUTH_TOKEN' \
      --header 'content-type: application/json' \
      --data '{"name": "Video to be shared"}'</code></pre>
    
    <p>El JSON devuelto incluirá la nueva identificación de video:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "id": "VIDEO_ID",
      "account_id": "ACCOUNT_ID",
      ...
    }</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Create_the_ingest_request">Crea la solicitud de ingesta</h2>
    
    <p>Luego, el video se puede ingerir usando el <a href="/dynamic-ingest/references/reference.html#api-Ingest-Ingest_Media_Asset">API de ingesta dinámica</a> con la identificación de video devuelta por <span translate="No">API de CMS</span> solicitud. Aquí hay un ejemplo de curl de la solicitud:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">MASTER_ACCOUNT_ID</span>/videos/<span class="bcls-input">VIDEO_ID</span>/ingest-requests \
      --header 'authorization: Bearer <span class="bcls-input">OAUTH_TOKEN</span>' \
      --header 'content-type: application/json' \
      --data '{"master": {"url": "http://example.com/video.mp4"}}'</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Share_video_with_CMS_API">Comparte video con la API de CMS</h2>
    
    <p>Una vez que se haya ingerido el video, puede compartirlo con otra cuenta usando el <a href="/cms/code-samples/cms-api-sample-share-multiple-videos.html">API de CMS</a>.</p>
    
    <p>Tenga en cuenta que antes de poder compartir un video con otra cuenta, primero debe configurar la relación para compartir; consulte <a href="/cms/managing-videos/media-sharing-cms-api.html">Uso compartido de medios con la API de CMS</a> para más detalles.</p>
    
    <p>Aquí hay un ejemplo de curl de la solicitud:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url 'https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">MASTER_ACCOUNT_ID</span>/videos/<span class="bcls-input">VIDEO_ID</span>/shares?=' \
    --header 'authorization: Bearer <span class="bcls-input">ACCESS_TOKEN</span>' \
    --header 'content-type: application/json' \
    --data '[
      {
        "id":"<span class="bcls-input">AFFILIATE_ACCOUNT_ID</span>"
      }
    ]'</code></pre>
    
    <p>La respuesta incluye la identificación del nuevo video en la cuenta compartida:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">[ {
      "video_id" : "5555086013001",
      "affiliate_id" : "1752604059001",
      "affiliate_video_id" : null,
      "status" : "PROCESSING",
      "shared_at" : "2017-09-01T12:04:39.911Z",
      "updated_at" : "2017-09-01T12:04:39.911Z"
    } ]</code></pre>
    </section>
    </article>
 