---
title: 'Inicio rápido: API de ingesta dinámica'
description: 'Este inicio rápido lo guiará para agregar un video a Video Cloud usando el <span translate="No">API de ingesta dinámica</span> a través de CURL.'
parent: Getting Started 
grandparent: Dynamic Ingest API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Introduction">Introducción</h2>

    <p>Puede hacer varias cosas con la API Dynamic Ingest, pero su función principal es agregar videos a Video Cloud. Este inicio rápido proporciona un tutorial sencillo para guiarlo a través de la ingesta de su primer video usando la API.</p>

    <p>Este tutorial utiliza la popular herramienta de línea de comandos llamada CURL para realizar solicitudes HTTP. Si no está familiarizado con CURL, consulte <a href="https://general.support.brightcove.com/developer/concepts-set-curl.html">Configurar CURL</a>. Tenga en cuenta que CURL se instala de forma predeterminada en los sistemas Mac y Linux. En Windows, deberá instalarlo; las instrucciones se encuentran en la guía Configurar CURL.</p>
    </section>

    <section class="bcls-section">
    <h2 id="steps">Pasos</h2>

    <h3>Obtenga las credenciales del cliente</h3>

    <p>Este es un paso único para crear credenciales de cliente para las solicitudes de API. Si ya tiene las credenciales de cliente necesarias, puede omitir este paso.</p>

    <ol class="bcls-tasklist">
      <li>
      <p>Hacia <a href="/general/managing-api-authentication-credentials.html">Administrar las credenciales de la API</a> sección de Studio.</p>
      </li>
      <li>Hacer clic <strong>Registrar nueva aplicación</strong></li>
      <li>
      <p>Seleccione las cuentas adecuadas y seleccione <em>por lo menos</em> estos permisos:</p>

      <ul>
        <li>Crear ingesta dinámica</li>
        <li>Lectura de configuración de perfiles de ingestión</li>
        <li>Lectura de perfiles de ingestión</li>
      </ul>
      </li>
      <li>
      <p>Copie y guarde el <strong>Identificación del cliente</strong> y <strong>secreto del cliente</strong> que se crean (¡no hay forma de volver a obtener el secreto del cliente una vez que cierre el cuadro de diálogo!).</p>
      </li>
    </ol>

    <h3>Obtener el token de OAuth</h3>

    <p>La <code translate="No">client_id</code> y <code translate="No">client_secret</code> se utilizan como nombre de usuario y contraseña para obtener un token (autenticación básica), que se utiliza para autenticar solicitudes posteriores.</p>

    <ol class="bcls-tasklist">
      <li>Copie el siguiente código en un editor de texto y reemplace <code translate="No">CLIENT_ID</code> y <code translate="No">CLIENT_SECRET</code> con sus propias credenciales de cliente:

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url https://oauth.brightcove.com/v4/access_token \
    --user <span class="bcls-input">CLIENT_ID</span>:<span class="bcls-input">CLIENT_SECRET</span> \
    --header 'content-type: application/x-www-form-urlencoded' \
    --data grant_type=client_credentials</code></pre>

      <p>Su código ahora se verá así:</p>

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url https://oauth.brightcove.com/v4/access_token \
    --user 0072bebf-0616-442c-84de-7215bb176061:7M0vMete8vP_Dmb9o4a16iws4RQR74PO-JNDKkCOyXFkSIe_iRKdHiiNO6vuBWadn5xFw \
    --header 'content-type: application/x-www-form-urlencoded' \
    --data grant_type=client_credentials</code></pre>
      </li>
      <li>Copie su código modificado y péguelo en la terminal (o su aplicación de línea de comando), presione Retorno para ejecutarlo.</li>
      <li>La respuesta debería verse así:
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "access_token":"AMv4uy9puUMrSPtfOUo412Euy8gY1pcjv6RozlH9ALrHyekxY_u-83KWMECgigG9u_gSQoh_gpe8ChAQ1FHclNHgU4h_2qj-8ei19Ve-m4OJ2UOmJwJBZQht_6bIMJMZUZBIvIAGT-8av-uMOpqnnXVJ1qu2rPQeGraIjEkhTnXnGaa-RNUxisRkIoIktN1o9BFzrbLa1xstvPgVhdg78uVg8uDA8X0K9kfibxBfdIkDBzKJAViZZ3gQa56uit2r79GZ_t2KSUgLq1rOPsd0TflHwCAGtSaAHlvb44m-hUKFAOJa-FtXakQ72QcIXha5PhSjYTJZiUa4EbjxXpR6aLvPW4mGQcDzo8bQQ4Hnq8bsa_8l5eUjOm51WI96WhTPJCt4bBWVJKyLM8P7va_Ho6zJc2yOJHDamilRlyOS-DxN4U30m_2AxhHF3DKJO8fWl5srtpbZRPANOq5B6cpAkOiQafoXUv0ntP9nzRwyO-oXVvH4iLDTAArOTXPh-A7OD8QogWu9wb13vO48CvRPsGv9PfT4ZCxzUa3M2NXn8wontkSARzHVNqf6fh-iF6ifalPTw-Z9MhpPd-qwpcHbJfmu5EcJAR3K3QDYttjeRrmEvTBOgbQttapvI2h6rMQqgytiHXpxYgz3Hr1yKe1cuVI8z3haT5pb-FIfOfHKyr7vQ3RDXjdTTJZMYpOhKNjL0oEH2ev_bIGmbGnqUMcuAGhQgMiCVQUKwoLUGHTRG91ZWMCP7CfTEdcVc10jDSELcZ1SBig5_G42ymv1w3KauK6ZwE_Xmu4NrPZiPo-r3u_K08x8Rz8gS1b9mFtcPj6yux058WAW--HIoIQRFGeppiO3S6s1hzkU2jiKMGtTnB8X4MIJXLPq8LHcZO81appEzraHFUG5ewtKRTq5Ck6OFndlSmhT8KIKid806wI5b39eeoe-4c8Os23QuyWIQthG-YdcTSueNoqZ3-5e7HztoYbzNIKvtrdLpwgMAclD9fzs3oCclECAQaaLD3hWENE3n78_TzPt4OvQ4o8L17JTmozZYCq3VDnsp_M9Bb6az8mZfDX5_ALunsE65dv91aXFCjTJigVJ_r28k7kLVct-PVZ1XPSjdAyGoxttMeYpl24737aUZBqPAirHJK-griQlPBh04E0Ay5ip03gJvJxvGuzRE5r8hKD0lVQjfre9huiSjJX-xts4kbY",
      "token_type":"Bearer",
      "expires_in":300
    }</code></pre>
      </li>
      <li>Tenga en cuenta que el <code translate="No">access_token</code> expira en 5 minutos, pero puede volver a ejecutar el código para obtener uno nuevo cuando lo necesite. Sabrá que necesita uno nuevo si las solicitudes de la API en los siguientes pasos devuelven un <code translate="No">UNAUTHORIZED</code> error.</li>
    </ol>

    <h3>Crear video</h3>

    <p>Una llamada al <span translate="No">CMS API</span> crea el objeto de video en Video Cloud. El cuerpo de la solicitud estipula metadatos como <code translate="No">name</code> y <code translate="No">description</code>. El único campo obligatorio es el <code translate="No">name</code>.</p>

    <ol class="bcls-tasklist">
      <li>Copie el siguiente código en un editor de texto y reemplace <code translate="No">ACCOUNT_ID</code> con su propia identificación de cuenta de Video Cloud, y <code translate="No">ACCESS_TOKEN</code> con el token de la respuesta a la solicitud en los pasos anteriores.

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
    --url https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">ACCOUNT_ID</span>/videos/ \
    --header 'authorization: Bearer <span class="bcls-input">ACCESS_TOKEN</span>' \
    --header 'content-type: application/json' \
    --data '{"name": "My Video"}'</code></pre>
      </li>
      <li>La respuesta JSON contendrá varios metadatos para el video, pero para nuestros propósitos, el campo importante está en la parte superior:
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
      <span class="bcls-highlight">"id": "123456789001"</span>,
      …
    }</code></pre>

      <p>Usarás esto <code translate="No">id</code> en la solicitud Ingest a continuación para que Video Cloud sepa con qué video asociar su archivo fuente de video.</p>
      </li>
    </ol>

    <h3>Solicitud de ingesta</h3>

    <p>Una llamada al Dynamic Ingest proporciona la ubicación del archivo a ingerir.</p>

    <ol class="bcls-tasklist">
      <li>Copie el siguiente código en un editor de texto y reemplace <code translate="No">ACCOUNT_ID</code> con su propia identificación de cuenta de Video Cloud, <code translate="No">VIDEO_ID</code> con el <code translate="No">id</code> valor devuelto cuando creaste el video, y <code translate="No">ACCESS_TOKEN</code> con el token de la respuesta a la solicitud en los pasos anteriores.

      <pre class="line-numbers">
    <code class="language-bash" translate="No">curl --request POST \
      --url https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">ACCOUNT_ID</span>/videos/<span class="bcls-input">VIDEO_ID</span>/ingest-requests \
      --header 'authorization: Bearer <span class="bcls-input">ACCESS_TOKEN</span>' \
      --header 'content-type: application/json' \
      --data '{
        "master": {
          "url": "https://learning-services-media.brightcove.com/videos/mp4/Great_Blue_Heron.mp4"
        },
        "callbacks": ["https://solutions.brightcove.com/bcls/di-api/di-callback-app.php"]
      }'</code></pre>

      <p>Tenga en cuenta que Brightcove Learning Services proporciona la aplicación de video y devolución de llamada con fines de prueba. Puede reemplazarlos con rutas a su propio video y / o aplicación de devolución de llamada. Si no necesita recibir notificaciones sobre el trabajo de ingesta, puede omitir la <code translate="No">callbacks</code> campo.</p>

      <p>Si usa nuestra aplicación de devolución de llamada, puede <a href="http://solutions.brightcove.com/bcls/di-api/di-log.txt">ver las notificaciones</a>. Esta aplicación es utilizada para devoluciones de llamada por varias otras aplicaciones, así que use la identificación del trabajo para buscar las asociadas con su trabajo.</p>
      </li>
      <li>Debería recibir una respuesta similar a esta:
      <pre class="line-numbers">
    <code class="language-json" translate="No">{"id":"bcc3dd36-50de-4343-b42a-ad02bd8f0241"}</code></pre>
      </li>
      <li>Debe guardar la identificación del trabajo, ya que es útil para identificar notificaciones asociadas con este trabajo, o si necesita comunicarse con Soporte</li>
    </ol>

    <p>Si completó los pasos anteriores con éxito, haya ingerido un video en su cuenta usando la API de Ingesta Dinámica. Si tuvo problemas o preguntas, no dude en contactar <a href="mailto:training@brightcove.com">Servicios de aprendizaje de Brightcove</a> por ayuda.</p>

    <p>Si va a trabajar mucho con nuestras API, es posible que le interese probar otras herramientas de prueba además de CURL:</p>

    <ul>
      <li><a href="/general/use-insomnia-api-requests.html">Insomnio</a></li>
      <li><a href="/general/use-postman-api-requests.html">Cartero</a></li>
    </ul>
    </section>
    </article>