---
title: 'Agregar subtítulos de WebVTT (pistas de texto)'
description: 'En este tema, aprenderá a utilizar la <span translate="No">API de CMS</span> para agregar pistas de texto WebVTT para subtítulos o capítulos a sus videos.'
parent: Managing Videos/Assets 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
    <section class="bcls-section">
    <h2 id="Introduction">Introducción</h2>
    
    <p>Los subtítulos de WebVTT (pistas de texto) no se pueden agregar cuando crea inicialmente el video mediante una solicitud POST:</p>
    
    <ul>
      <li>Para que las pistas de texto se ingieran en Video Cloud, las pistas se pueden incluir en la solicitud de Ingesta dinámica para ingerir el video; consulte <a href="/dynamic-ingest/ingest-guides/ingesting-webvtt-files-text-trackscaptions.html">Ingesta de archivos WebVTT</a> para detalles.</li>
      <li>Si las pistas de texto se van a alojar en alguna ubicación remota, se pueden agregar al video usando un <code translate="No">PATCH</code> solicitud para actualizar los metadatos del video. Ver el <a href="/cms/code-samples/cms-api-sample-update-videos.html">Ejemplo de API de CMS: Actualizar videos</a> para ver un ejemplo de una solicitud de actualización.</li>
    </ul>
    
    <p>Ya sea que las pistas de texto sean ingeridas o remotas, puede usar un <code translate="No">PATCH</code> solicitud para actualizar los metadatos asociados con las pistas de texto (como el <code translate="No">scrlang</code> o <code translate="No">label</code> , o si las pistas de texto son las <code translate="No">default</code> para el video).</p>

		<p>Ver también <a href="/cms/managing-videos/managing-text-tracks.html">Administrar pistas de texto con la API de CMS</a> para obtener más información sobre las diferencias en la forma en que se manejan los metadatos de las pistas de texto en función de si las pistas de texto son remotas, se ingieren con un perfil de ingesta estático o se ingieren con un perfil de ingesta dinámico.</p>
    
    <h3>Notas</h3>
    
    <ul>
      <li>Cuando actualiza las pistas de texto en un video de Dynamic Delivery, el proceso es asincrónico, por lo que el código de estado de respuesta será <code translate="No">202 ACCEPTED</code> y la actualización no se realizará de inmediato.</li>
      <li>Hay un límite de 1000 pistas de texto por video.</li>
      <li>El texto de los subtítulos debe estar codificado en UTF-8 para que se muestre correctamente en idiomas de doble byte como japonés y coreano.</li>
    </ul>
    </section>
    
    <section id="Remote_or_ingested" class="bcls-section">
    <h2>Remoto o ingerido</h2>
    
    <aside class="bcls-aside bcls-aside--information">El método explicado en este documento es para agregar archivos WebVTT remotos a sus videos. Tú también puedes <a href="/dynamic-ingest/ingest-guides/ingesting-webvtt-files-text-trackscaptions.html">ingerir archivos WebVTT</a> a Video Cloud mediante la API de ingesta dinámica.</aside>
    </section>
    
    <section class="section">
    <h2 id="authorization">Autorización</h2>
    
    <p class="BCL-aside">Solicitudes al <span translate="No">API de CMS</span> requieren un encabezado de autorización que contenga sus tokens de acceso. Para obtener detalles sobre cómo obtener credenciales de cliente y usarlas para recuperar tokens de acceso, consulte la <a href="/oauth/getting-started/overview-oauth-api-v4.html">Descripción general de Brightcove OAuth</a>.</p>
    
    <p>Las operaciones que necesitará para actualizar los metadatos de video son <code translate="No">video-cloud/video/update</code> o <code translate="No">video-cloud/video/all</code>.</p>
    </section>
    
    <section class="section">
    <h2 id="syntax">Sintaxis</h2>
    
    <h3>Pedido</h3>
    
    <pre class="line-numbers">
              <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/{account_id}/videos/{video_ID}</code></pre>
    
    <h3>Cuerpo de la solicitud:</h3>
    
    <p>El cuerpo de la solicitud será un objeto JSON que contiene una matriz de pistas de texto:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{"text_tracks" : [ {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart_ja.vtt",
      "srclang" : "ja",
      "label" : "日本人",
      "kind" : "captions",
      "mime_type" : null,
      "default" : false
    }, {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart_es.vtt",
      "srclang" : "es",
      "label" : "español",
      "kind" : "captions",
      "mime_type" : null,
      "default" : false
    }, {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart_de.vtt",
      "srclang" : "de",
      "label" : "Deutsch",
      "kind" : "captions",
      "mime_type" : null,
      "default" : false
    }, {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart_fr.vtt",
      "srclang" : "fr",
      "label" : "français",
      "kind" : "captions",
      "mime_type" : null,
      "default" : false
    }, {
      "src" : "http://learning-services-media.brightcove.com/captions/bc_smart.vtt",
      "srclang" : "en",
      "label" : "English",
      "kind" : "captions",
      "mime_type" : null,
      "default" : true
    }
    ]}</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="replaceTracks">Reemplazo de pistas de texto</h2>
    
    <p>Reemplazar las pistas de texto existentes (ya sea cargadas o remotas) es un proceso de dos pasos:</p>
    
    <ol class="bcls-tasklist">
      <li>Elimine las pistas de texto existentes mediante un <span translate="No">API de CMS</span> actualizar (PARCHE):
      <h4>Solicitud de API (PATCH)</h4>
    
      <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code></pre>
    
      <h4>Cuerpo de la solicitud</h4>
    
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
          "text_tracks": []
      }</code></pre>
      </li>
      <li>Si está agregando pistas de texto remotas, agréguelas a través de otra <span translate="No">API de CMS</span> actualizar (PATCH) (opcional - si está cargando pistas de texto, salte al siguiente paso):
      <h4>Solicitud de API (PATCH)</h4>
    
      <pre class="line-numbers">
    <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code></pre>
    
      <h4>Cuerpo de la solicitud</h4>
    
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "text_tracks": [
            {
              "src": "https://learning-services-media.brightcove.com/vtt/sample.vtt",
              "srclang": "en",
              "label": "EN",
              "kind": "captions",
              "mime_type": "text/webvtt"
            },
            {
              "src": "https://learning-services-media.brightcove.com/vtt/sample-es.vtt",
              "srclang": "es",
              "label": "ES",
              "kind": "captions",
              "mime_type": "text/webvtt"
            }
        ]
    }</code></pre>
      </li>
      <li>Si, en cambio, está cargando nuevas pistas de texto, agréguelas a través de una solicitud POST a la API de ingesta dinámica:
      <h4>Solicitud de API (POST)</h4>
    
      <pre class="line-numbers">
    <code class="language-http" translate="No">https://ingest.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code>/ solicitudes-de-ingesta</pre>
    
      <h4>Cuerpo de la solicitud</h4>
    
      <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "text_tracks": [
            {
                "url": "http://solutions.brightcove.com/bcls/assets/vtt/sample.vtt",
                "srclang": "en",
                "kind": "captions",
                "label": "EN",
                "default": true
            },
            {
                "url": "http://solutions.brightcove.com/bcls/assets/vtt/sample-ar.vtt",
                "srclang": "ar",
                "kind": "captions",
                "label": "AR",
                "default": false
            }
        ]
    }</code></pre>
      </li>
      <li>Realice una solicitud GET al <span translate="No">API de CMS</span> para verificar que sus nuevas pistas de texto estén asociadas con el video:
      <pre class="line-numbers">
              <code class="language-http" translate="No">https://cms.api.brightcove.com/v1/accounts/<span class="bcls-input">account_id</span>/videos/<span class="bcls-input">video_id</span></code></pre>
      </li>
    </ol>
    </section>
    </article>
 