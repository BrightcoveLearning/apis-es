---
title: 'Informe sobre contenido de solo audio'
description: 'Si tiene contenido de solo audio en su biblioteca de videos, puede resultarle útil ejecutar un informe que muestre solo esos videos de solo audio. Esta muestra le muestra cómo hacerlo.'

parent: 'Code Samples' 
grandparent: CMS API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Introduction">Introducción</h2>

    <aside class="bcls-aside bcls-aside--information">Esta muestra y el código asociado se proporcionan como una guía para su desarrollo de producción. El código no está certificado para uso en producción ni se admite oficialmente.</aside>

    <p>Video Cloud le permite utilizar contenido de solo audio en forma de videos sin pista de video. Sin embargo, no marca estos videos como "solo de audio" de ninguna manera, por lo que si tiene una gran biblioteca de contenido mixto de audio y video, es posible que no sea obvio cómo crear un informe sobre su contenido de solo audio.</p>

    <p>Hay propiedades en las representaciones que le dirán si es solo de audio, pero las propiedades son diferentes para los videos que fueron ingeridos usando el sistema de ingesta heredado o usando el sistema Dynamic Delivery:</p>

    <ul>
      <li>Para los videos de ingesta heredados, cada interpretación tendrá un <code translate="No">audio_only</code> propiedad que es un booleano</li>
      <li>Para los videos de Dynamic Delivery, cada interpretación tendrá un <code translate="No">media_type</code> propiedad que se establecerá en <code translate="No">audio</code> o <code translate="No">video</code></li>
    </ul>

    <p>En la aplicación de muestra aquí, usamos una función que verifica cualquiera de los casos:</p>

    <pre class="line-numbers">
        <code class="language-javascript" translate="No">function isAudio(rendition) {
          if (rendition.hasOwnProperty('audio_only') &amp;&amp; rendition.audio_only === false) {
            return false;
          } else if (rendition.hasOwnProperty('media_type') &amp;&amp; rendition.media_type === 'video') {
            return false;
          }
          return true;
        }</code></pre>

    <h3>Notas sobre esta muestra</h3>

    <ul>
      <li>Cualquier video de Video Cloud puede tener representaciones de solo audio. Esta muestra identifica contenido que tiene <strong>solo</strong> interpretaciones de audio y, por lo tanto, comprueba todas las interpretaciones. Sería sencillo modificar el código para producir un informe sobre el contenido que tiene al menos una reproducción de solo audio. Este es el único cambio que debe realizar en el código de muestra:

        <p>Código existente (para buscar en contenido de solo audio):</p>

        <pre class="line-numbers">
        <code class="language-javascript" translate="No">function processRenditions(video, renditions) {
            var i,
              iMax = renditions.length,
              audioRenditions = 0;
            if (video.id === '5831706803001') {}
            // separate renditions by type
            for (i = 0; i &lt; iMax; i++) {
              if (isAudio(renditions[i])) {
                audioRenditions++;
              } else {
                // if any non-audio renditions, stop
                break;
              }
            }
            // check to see if all renditions are audio
            if (audioRenditions === renditions.length) {
              video.renditionCount = audioRenditions;
              audiosArray.push(video);
              return;
            } else {
              return;
            }
          }</code></pre>

        <p>Versión de la función para identificar cualquier contenido que tenga representaciones de solo audio:</p>

        <pre class="line-numbers">
        <code class="language-javascript" translate="No">function processRenditions(video, renditions) {
            var i,
              iMax = renditions.length,
              audioRenditions = 0;
            if (video.id === '5831706803001') {}
            // separate renditions by type
            for (i = 0; i &lt; iMax; i++) {
              if (isAudio(renditions[i])) {
                audioRenditions++;
              }
            }
            // check to see if any renditions are audio
            if (audioRenditions &gt; renditions.length) {
              video.renditionCount = audioRenditions;
              audiosArray.push(video);
              return;
            } else {
              return;
            }
          }</code></pre>
      </li>
      <li>El contenido de activos remotos es <strong>no</strong> comprobado para ver si es solo de audio.</li>
    </ul>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="getCredentials">Obtener credenciales</h2>
      </summary>

      <p>Usar el <span translate="No">API de CMS</span> necesitará las credenciales adecuadas.</p>

      <p>La forma más fácil de obtener credenciales en la mayoría de los casos es a través de la sección Autenticación de la API de administrador de Studio (requiere permisos de administrador en su cuenta). Ver <a href="/general/managing-api-authentication-credentials.html">Administrar las credenciales de autenticación de API</a> para detalles. En la mayoría de los casos, probablemente solo desee obtener permisos para todos <span translate="No">API de CMS</span> operación:</p>

      <figure class="bcls-figure"><img class="bcls-image" alt="CMS API Permissions" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/cms-api/cms-permissions.png" />
        <figcaption class="bcls-caption--image">Permisos de la API de CMS</figcaption>
      </figure>

      <p>Si los permisos que necesita no están disponibles en Studio, o si prefiere obtenerlos directamente de la API de OAuth, utilice su elección de <strong>Obtener credenciales de cliente</strong> documentos que se enumeran a continuación. Cualquiera que sea la opción que elija, deberá solicitar los permisos de operación correctos. Lo siguiente se puede usar con cURL o Postman para obtener todos los permisos para la API de CMS:</p>

      <pre class="line-numbers">
          <code class="language-json" translate="No">"operations": [
            "video-cloud/video/all",
            "video-cloud/playlist/all",
            "video-cloud/sharing-relationships/all",
            "video-cloud/notifications/all"
          ]</code></pre>

      <ul>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-curl.html">OAuth: Obtener credenciales de cliente mediante cURL</a></li>
        <li><a href="/oauth/guides/oauth-create-client-credentials-using-postman.html">OAuth: Obtenga las credenciales del cliente con Postman</a></li>
      </ul>
    </details>
  </section>

  <section class="bcls-section" id="workingSample">
    <h2>Informe de contenido de audio</h2>
    <h3>Código fuente</h3>
    <p>
      Encuentre todo el código asociado con esta muestra en este <a href="https://github.com/BrightcoveLearning/18729-cms-api-sample-report-audio-only-content">Repositorio de GitHub</a>.
    </p>
    <h3>Aplicación de muestra</h3>
    <p class="codepen" data-height="1400" data-theme-id="34967" data-default-tab="result" data-user="rcrooks1969" data-slug-hash="ZwyVJL" style="height: 300px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="CMS API Sample: Audio Content Report"><span>Ver la pluma <a href="https://codepen.io/team/rcrooks1969/pen/ZwyVJL/"> <span translate="No">API de CMS</span> Muestra: Informe de contenido de audio</a> por Brightcove Learning Services (<a href="https://codepen.io/rcrooks1969"> rcrooks1969</a> ) en <a href="https://codepen.io">CodePen</a>.</span></p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
  </section>

  <section class="bcls-section">
    <details>
      <summary>
        <h2 id="Using_the_CodePen">Usando el CodePen</h2>
      </summary>

      <p>A continuación, se incluyen algunos consejos para utilizar eficazmente el CodePen anterior:</p>

      <ul>
        <li>Cambie la visualización real del reproductor haciendo clic en el <strong>Resultado</strong> botón.</li>
        <li>Haga clic en el <strong>HTML / CSS / JS</strong> botones para mostrar UNO de los tipos de código.</li>
        <li>Hacer clic <strong>Editar en CodePen</strong> en la esquina superior derecha para bifurcar este CodePen en su propia cuenta.</li>
        <li>Encuentre todo el código asociado con esta muestra en este <a href="https://github.com/BrightcoveLearning/18729-cms-api-sample-report-audio-only-content">Repositorio de GitHub</a>.</li>
      </ul>
    </details>
  </section>

    <section class="bcls-section">
    <details>
      <summary>
        <h2 id="proxy">Código de proxy</h2>
      </summary>

      <p>Para crear su propia versión de la aplicación de muestra en esta página, debe crear y alojar su propio proxy. (Los proxies utilizados por Brightcove Learning Services solo aceptan solicitudes de dominios de Brightcove). Un proxy de muestra, muy similar al que usamos, pero sin las comprobaciones que bloquean las solicitudes de dominios que no son de Brightcove, se puede encontrar en <a href="https://github.com/BrightcoveLearning/sample-proxy-apps">este repositorio de GitHub</a>. También encontrará instrucciones básicas para usarlo allí, y una guía más elaborada para crear aplicaciones alrededor del proxy en <a href="/getting-started/learning-guide-using-rest-apis.html">Usando las API REST</a>.</p>
    </details>
  </section>

</article>