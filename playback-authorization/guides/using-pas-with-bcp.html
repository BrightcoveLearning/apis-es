---
title: "Uso de la autorización de reproducción DRM con Brightcove Player"
description: "En este tema, aprenderá a configurar Brightcove Player para utilizar el Servicio de autorización de reproducción de Brightcove."
parent: Guides 
grandparent: Playback Authorization
layout: staging
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  
  <br/>
  <aside class="bcls-aside bcls-aside--tip">Esta función está disponible para un conjunto específico de clientes con acceso a la fase de disponibilidad limitada del servicio de autorización de reproducción.</aside>
  
  <section class="bcls-section">
    <h2 id="Introduction">Introducción</h2>

    <p>El servicio de autorización de reproducción (PAS) de Brightcove ofrece un nivel adicional de seguridad cuando se utiliza Dynamic Delivery con contenido protegido por DRM o HTTP Live Streaming Encryption (HLSe). Con PAS, las solicitudes de licencia se autenticarán mediante un <a href="https://general.support.brightcove.com/developer/create-jwt.html">Token web JSON (JWT)</a>. El token se utiliza al solicitar la licencia de video, una vez que el video se ha cargado en el reproductor y se ha seleccionado la fuente.</p>
    <p>Este documento se centra en el uso de PAS con Brightcove Player. Para obtener más información sobre PAS en general, consulte la <a href="/playback-authorization/getting-started/overview-playback-authorization-service.html">Descripción general: DRM con servicio de autorización de reproducción</a> documento.</p>
  </section>

  <section class="bcls-section">
    <h2 id="Overview">Descripción general</h2>
    <p>Para configurar Brightcove Player para usar PAS, pase un parámetro de token al realizar la solicitud de catálogo para el video. El código se mostrará en la siguiente sección. Para asegurarse de que tiene los requisitos previos para comprender el código, los conceptos de los siguientes documentos le ayudarán a proporcionar una base sobre la cual construir:</p>
    <ul>
      <li><a href="https://general.support.brightcove.com/developer/create-jwt.html">Creando un <span translate="No">Token web JSON</span> (JWT)</a></li>
      <li><a href="https://support.brightcove.com/concepts-using-javascript-promises">Conceptos: Usar promesas de JavaScript</a></li>
      <li><a href="https://support.brightcove.com/player-catalog#Catalog_parameters_object">Parámetros del catálogo</a></li>
      <li><a href="https://support.brightcove.com/configuring-brightcove-player-drm">Configuración de Brightcove Player para DRM</a></li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Using_a_token_in_the_catalog_parameters">Usando un token en los parámetros del catálogo</h2>
    <p>Esta sección detalla el código necesario para configurar el reproductor para usar PAS. Para hacer esto, pase un token de cadena como parte de un <a href="https://support.brightcove.com/player-catalog#Catalog_parameters_object">parámetros del catálogo</a> objeto, usando el nombre de la propiedad <code translate="No">bcovAuthToken</code>.</p>
    <p>Este enfoque funcionará tanto para DRM como para HLSe. El reproductor detectará el tipo de fuente que se está cargando desde la Playback API y proporcionará la implementación correcta para esa fuente.</p>
    <aside class="bcls-aside bcls-aside--information">Nota: Esta implementación requiere la versión Player <strong>6.33.0</strong> o mayor. Si usa DRM, necesitará la versión <strong>5.5.0</strong> o más tarde del <a href="https://support.brightcove.com/configuring-brightcove-player-drm#Changelog">Complemento DRM</a>.</aside>
    <p>Este código de implementación de muestra utiliza el <a href="https://support.brightcove.com/player-catalog#get_method">catalog.get ()</a> método para solicitar el video mientras se proporciona el token (que debería reemplazar el <code translate="No">&lt;BCOV_AUTH_TOKEN&gt;</code> marcador de posición). Asegúrese de NO incluir la identificación del video en el <code translate="No">&lt;video-js&gt;</code> etiqueta.</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001',
      <span class="bcls-highlight">bcovAuthToken: '&lt;BCOV_AUTH_TOKEN&gt;</span>'
    })
      .then(function(videoReturned){
        myPlayer.catalog.load(videoReturned);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="SSAI_configuration">Configuración SSAI</h2>
    <p>Si va a utilizar PAS con SSAI, hay una pequeña adición de configuración que debe realizarse. Es necesario agregar un parámetro adicional al objeto de parámetros del catálogo, denominado <code translate="No">adConfigId</code>. </p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001',
      bcovAuthToken: '<span class="bcls-input">BCOV_AUTH_TOKEN</span>',
      <span class="bcls-highlight">adConfigId: '&lt;YOUR_ADD_CONFIG_ID&gt;</span>'
    })
      .then(function(videoReturned){
        myPlayer.catalog.load(videoReturned);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
  </section>

  <section class="bcls-section">
    <h2 id="Using_a_custom_implementation">Usando una implementación personalizada</h2>
    <p>Es posible que esté utilizando una implementación personalizada donde no tiene la <code translate="No">bcovAuthToken</code> para establecer el valor con el <a href="https://support.brightcove.com/player-catalog#get_method">catalog.get ()</a> solicitud de método. Si está utilizando un reproductor propio o de terceros, puede utilizar uno de los siguientes enfoques para pasar su token a la solicitud de licencia:</p>
    <ul>
      <li>
        Encabezado HTTP: <code translate="No">BCOV-Auth</code>(No compatible con HLSe)
      </li>
      <li>
        Galleta: <code translate="No">bcov-auth</code>(No compatible con HLSe)
      </li>
      <li>
        Parámetro de consulta: <code translate="No">bcov-auth</code>(Solo compatible con HLSe) Debe adjuntarse a la URL del manifiesto maestro, en lugar de a la URL de la licencia.
      </li>
    </ul>
    <p>
      A continuación se muestra un ejemplo que muestra cómo configurar el <code translate="No">source.emeHeaders['BCOV-Auth']</code> atributo en el objeto de video al token. Esto inserta el <code translate="No">emeHeader</code> en cada fuente DESPUÉS de la solicitud del catálogo.
    </p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id=&quot;myPlayerID&quot;
  data-account=&quot;1507807800001&quot;
  data-player=&quot;default&quot;
  data-embed=&quot;default&quot;
  controls
  data-application-id&gt;&lt;/video-js&gt;
&lt;script src=&quot;//players.brightcove.net/1507807800001/default_default/index.min.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
  (function() {
    var myPlayer = videojs.getPlayer('myPlayerID');

    myPlayer.catalog.get({
      type: 'video',
      id: '6015247091001'
    })
    .then(function(video){
      sources=video.sources;

      for (let i = 0; i &lt; sources.length; i++) {
        const source = sources[i];

        // Only add the auth token as an eme header for DRM content
        if (<span class="bcls-input">BCOV_AUTH_TOKEN</span> &amp;&amp; source.key_systems) {
          source.emeHeaders = {
              'BCOV-Auth': <span class="bcls-input">BCOV_AUTH_TOKEN</span>
            };
        }
      }
        myPlayer.catalog.load(video);
      })
      .catch(function(err){
        console.log('err:', err);
      });
  })();
&lt;/script&gt;</code></pre>
    <!-- <p>
      For more details about working with MPEG-DASH, see the <a href="https://support.brightcove.com/creating-dash-drm-manifest-brightcove-player">Creating a DASH DRM Manifest for the Brightcove Player</a> document.
    </p> -->

  </section>

  <section class="bcls-section">
    <h2 id="Related_topics">Temas relacionados</h2>

    <ul>
      <li><a href="http://docs.brightcove.com/en/staging/pas/overview-playback-authorization-service.html">Descripción general: DRM con servicio de autorización de reproducción</a></li>
      <li><a href="/playback-authorization/getting-started/technical-workflow-pas.html">Implementación de DRM con el servicio de autorización de reproducción</a></li>
      <li><a href="/playback-authorization/guides/using-pas-with-sdks.html">Uso de DRM de autorización de reproducción con los SDK nativos</a></li>
      <li>
        <a href="/playback-authorization/guides/additional-apis-for-pas.html">API adicionales para el servicio de autorización de reproducción</a>
      </li>
    </ul>
  </section>
</article>

<script>
  var h1 = document.querySelector ('h1'), path = location.pathname, new_location = 'https://player.support.brightcove.com/playback/playback-restrictions-with-bcp.html', message = '<h3>Esta página se ha movido a <a href="' + new_location + '">' + new_location + '</a>. ¡Actualiza tu marcador! Serás redirigido en 5 segundos.<h3>'; console.log ('nueva_ubicación', new_location); h1.insertAdjectedHTML ('post-tendencia', message); redireccionar (); function redireccionar () { var t = window.setTimeout(go_to_new_location, 5000); } function go_to_new_location () { window.location.href = new_location; }
</script>