---
title: "Obtener la posición de reproducción de la API XDR"
description: "En este tema, aprenderá cómo recuperar la posición de reproducción del espectador desde la API de reanudación entre dispositivos (XDR)".
parent: Getting started 
grandparent: Cross Device Resume API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">

  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Overview">Descripción general</h2>
    <p>
      La reanudación en varios dispositivos permite a los espectadores comenzar a ver un video en un dispositivo y, más tarde, continuar viendo el video donde lo dejaron en un dispositivo diferente.
    </p>
    <p>
      Debido a que la API de reanudación entre dispositivos (XDR) no se puede llamar desde sus aplicaciones del lado del cliente, deberá crear un proxy del lado del servidor para realizar la llamada y devolver el valor de la posición de reproducción.
    </p>
    <aside class="bcls-aside bcls-aside--information">Tenga en cuenta que hay un retraso entre el envío de datos XDR y la disponibilidad de esos datos a través de la API de hasta 30 segundos.</aside>
  </section>

  <section class="bcls-section">
    <h2 id="Getting_playback_position">Obtener la posición de reproducción</h2>

    <p>Puede obtener la posición de reproducción del visor con el <a href="/xdr/references/reference.html">API de reanudación entre dispositivos (XDR)</a>.</p>

    <h3 id="Cross_Device_Resume_API">API de reanudación entre dispositivos (XDR)</h3>
    <p>
      Con la API de reanudación multidispositivo, puede obtener todas las posiciones del cabezal de reproducción para un espectador específico, o todos los cabezales de reproducción para un espectador y video específicos.
    </p>

    <h3>URL base</h3>
    <p>
      La URL base de la API es:
    </p>
    <pre><code class="language-http" translate="No">https://data.brightcove.com/v1/xdr</code></pre>

    <h3>Ruta de la cuenta</h3>
    <p>
      En todos los casos, se realizarán solicitudes para una cuenta de Video Cloud específica. Por lo tanto, siempre agregará el término cuentas seguido de la identificación de su cuenta a la URL base:
    </p>
    <pre><code class="language-http" translate="No">https://data.brightcove.com/v1/xdr/accounts/{account_id}</code></pre>

    <h3>Autorización</h3>
    <p>
      Se requiere un token de acceso para las solicitudes y debe estar presente en el encabezado de Autorización:
    </p>
    <pre><code class="language-http" translate="No">Authorization: Bearer {access_token}</code></pre>
    <p>
      El token de acceso es un token de acceso OAuth2 temporal que debe obtenerse del servicio Brightcove OAuth. Para obtener detalles sobre cómo obtener credenciales de cliente y usarlas para recuperar tokens de acceso, consulte la <a href="/oauth/getting-started/overview-oauth-api-v4.html">Descripción general de Brightcove OAuth</a>.
    </p>

    <h3>Permisos</h3>
    <p>
      Las solicitudes a la API de reanudación multidispositivo deben realizarse desde <a href="/oauth/index.html">credenciales del cliente</a> con los siguientes permisos:
    </p>
    <ul>
      <li>
        <code translate="No">video-cloud/xdr/read</code>
      </li>
    </ul>
    <p><strong>Tenga en cuenta que estos permisos aún no están disponibles en la interfaz de usuario de administración de Studio.</strong> Hasta que lo estén, puedes usar esto <a href="/oauth/code-samples/oauth-api-sample-create-client-credentials.html">Aplicación Brightcove Learning Services</a> para crear sus credenciales de cliente. Solo asegúrate de comprobar el <code translate="No">video-cloud/xdr/read</code> cuando cree las credenciales (puede marcar tantas otras casillas como desee).</p>

    <h3>Métodos API</h3>
    <p>
      La API de reanudación multidispositivo admite las siguientes solicitudes. Para obtener más detalles, consulte la <a href="/xdr/references/reference.html">Referencia de la API de reanudación entre dispositivos (XDR)</a>.
    </p>

    <h4>Obtener cabezas de reproducción de espectadores</h4>
    <p>
      Esta solicitud obtiene todas las cabezas de reproducción de un espectador.
    </p>
    <pre><code class="language-http" translate="No">GET /accounts/{accountID}/playheads/{viewer_id}</code></pre>
    <h5>Cuerpo de respuesta</h5>
    <p>
      El cuerpo de la respuesta contiene una variedad de videos y cabezas de reproducción. Debería verse similar a esto:
    </p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  &quot;account_id&quot;: &quot;1752604059001&quot;,
  &quot;viewer_id&quot;: &quot;viewer001&quot;,
  &quot;items&quot;: [
    {
    &quot;timestamp&quot;: 1589548991563000,
    &quot;video_id&quot;: &quot;6152436480001&quot;,
    &quot;playhead_seconds&quot;: 17
    },
    {
    &quot;timestamp&quot;: 1589548858719000,
    &quot;video_id&quot;: &quot;6152440604001&quot;,
    &quot;playhead_seconds&quot;: 3
    }
  ],
  &quot;size&quot;: 2
  }</code></pre>
    <br />

    <h4>Obtener cabezas de reproducción de video para espectadores</h4>
    <p>
      Esta solicitud obtiene todas las cabezas de reproducción de un espectador y un video específico.
    </p>
    <pre><code class="language-http" translate="No">GET /accounts/{account_id}/playheads/{viewer_id}/{video_id}</code></pre>
    <br />
    <aside class="bcls-aside bcls-aside--tip">
      <p>
        También puede incluir una lista de ID de video: (máximo = 100)
      </p>
      <pre><code class="language-http" translate="No">GET /accounts/{account_id}/playheads/{viewer_id}/{video_id},{video_id},...</code></pre>
    </aside>
    <h5>Cuerpo de respuesta</h5>
    <p>
      Si especifica una ID de video, el cuerpo de la respuesta contendrá un objeto de elemento. Cuando especifica más de una identificación de video, <code translate="No">items</code> La matriz contendrá varios objetos de elemento. Debería verse similar a esto:
    </p>
<pre class="line-numbers"><code class="language-json" translate="No">{
  &quot;account_id&quot;: &quot;1752604059001&quot;,
  &quot;viewer_id&quot;: &quot;viewer001&quot;,
  &quot;items&quot;: [
    {
    &quot;timestamp&quot;: 1589896539910000,
    &quot;video_id&quot;: &quot;6156696074001&quot;,
    &quot;playhead_seconds&quot;: 39
    }
  ],
  &quot;size&quot;: 1
  }</code></pre>
    <br />
  </section>

  <section class="bcls-section">
    <h2 id="Using_a_server_side_proxy">Usar un proxy del lado del servidor</h2>
    <p>Un proxy es una aplicación del lado del servidor que actúa como intermediario entre su aplicación del lado del cliente y la API REST. Aquí hay algunos enlaces útiles:</p>
    <ul>
      <li>
        Para conocer los conceptos, consulte <a href="https://player.support.brightcove.com/getting-started/learning-guide-using-rest-apis.html">Guía de aprendizaje: Usando las API REST</a>
      </li>
      <li>
        Para obtener una muestra de reproductor web que llama a un proxy del lado del servidor para obtener la cabeza lectora de la API de XDR, consulte la <a href="https://github.com/BrightcoveLearning/cross-device-resume/blob/master/index.html">Muestra de CV multidispositivo en github</a>.
      </li>
    </ul>

  </section>

  <!-- <section class="bcls-section">
<h2 id="Limitations">Limitations</h2>

<p>Here are the limitation associated with the cross-device resume.</p>

<ul>
	<li>The current version of this plugin does not support thumbnails on mobile devices.</li>
</ul>
</section> -->

  <!-- <section class="bcls-section">
<h2 id="Changelog">Changelog</h2>

<p>See the <a href="https://player.support.brightcove.com/plugins/changelog/thumbnails-plugin-changelog.html">changelog here</a>.</p>
</section> -->
</article>