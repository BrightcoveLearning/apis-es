---
title: 'Utilice Insomnia para solicitudes de API'
description: 'En este tema, aprenderá a configurar el popular cliente HTTP Insomnia para realizar solicitudes a las API RESTful de Brightcove.'
parent: General Information
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="introduction">Introducción</h2>
    <p>Algunos encuentran que las declaraciones curl y la línea de comandos, que se utilizan para muchos de los ejemplos en la documentación de las API de nuestra plataforma, son difíciles e intimidantes. Para ellos, existen numerosas herramientas para enviar solicitudes HTTP a servicios basados en REST, que incluyen la mayoría de las API de Brightcove. Este documento le mostrará cómo utilizar una herramienta popular, la <a href="https://insomnia.rest"><span translate="No">Insomnio</span> aplicación</a>.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Install_insomnia">Instalar en pc <span translate="No">Insomnio</span></h2>
    <p>Obtener <span translate="No">Insomnio</span> de <a href="https://insomnia.rest"><span translate="No">https://insomnia.rest</span></a>. <span translate="No">Insomnio</span> se puede instalar en sistemas Mac, Linux o Windows.</p>
		</section>
		<section class="bcls-section">
			<h2 id="authentication">Autenticación</h2>
    <p><span translate="No">Insomnio</span> se puede utilizar para realizar solicitudes a cualquiera de las API RESTful de Brightcove. La mayoría de las API usan OAuth2 para la autenticación, y veremos cómo configurarlo en <span translate="no">Insomnio</span> más adelante en este documento. Sin embargo, también puede usarlo para las API que no usan OAuth, simplemente configurando el encabezado apropiado.</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="Set Header in Insomnia" src="/assets/images/general/insomnia/18462-set-header.png" />
      <figcaption class="bcls-caption--image">Establecer encabezado en <span translate="No">Insomnio</span></figcaption>
    </figure>
    <p>Así es como se verá ese encabezado para las solicitudes con métodos de autenticación distintos de Oauth2:</p>
    <dl>
      <dt ><a href="/playback/index.html"><span translate="No">API de reproducción</span></a></dt>
      <dd >
        <pre>
  <code class="language-http" translate="No">BCOV-Policy: <span class="bcls-input">YOUR_POLICY_KEY</span></code></pre>
      </dd>
      <dt ><a href="https://live.support.brightcove.com/live-api/"><span translate="No">API en vivo</span></a></dt>
      <dd >
        <pre>
  <code class="language-http" translate="No">X-API-KEY: <span class="bcls-input">YOUR_API_KEY</span></code></pre>
      </dd>
      <dt ><a href="https://zencoder.support.brightcove.com">API de Zencoder</a></dt>
      <dd >
        <pre>
  <code class="language-http" translate="No">Zencoder-Api-Key: <span class="bcls-input">YOUR_API_KEY</span></code></pre>
      </dd>
    </dl>
  </section>
  <section class="bcls-section">
    <h2 id="getCredentials">Obtenga las credenciales del cliente</h2>
    <p>Para trabajar con la mayoría de las API de Brightcove, necesitará las credenciales de cliente para la cuenta y las API que desea utilizar. Obtenga sus credenciales de cliente en Studio siguiendo las instrucciones en <a href="/general/managing-api-authentication-credentials.html">Administrar las credenciales de autenticación de API</a>. En los pasos siguientes, haremos <span translate="No">API de CMS</span> solicitudes usando <span translate="No">Insomnio</span> , por lo que sus credenciales deben tener al menos los siguientes permisos:</p>
    <ul>
      <li><strong>Videos</strong>: <strong>Leer escribir</strong></li>
    </ul>
    <p>Puede agregar tantos permisos adicionales como desee para obtener credenciales que se podrán utilizar para una gama más amplia de solicitudes de API. También tenga en cuenta que puede obtener credenciales que funcionarán para varias cuentas si lo desea.</p>
    <aside class="bcls-aside bcls-aside--information">Para generar credenciales de cliente, debe tener permisos de administrador para Studio, u obtener a alguien en su organización que tenga permisos de administrador para generar las credenciales por usted.</aside>
  </section>
  <section class="bcls-section">
    <h2 id="usingInsomnia">Utilizando <span translate="No">Insomnio</span></h2>
    <p>Una vez que tenga sus credenciales de cliente, estará listo para comenzar a usar <span translate="No">Insomnio</span>. <span translate="No">Insomnio</span> hará mucho trabajo de configuración por usted si importa la especificación OpenAPI para la API de CMS, que ponemos a su disposición. Los pasos a continuación lo guiarán para hacer algunos <strong>API de CMS</strong> solicitudes usando <span translate="No">Insomnio</span>.</p>
    <h3>Configurar un <span translate="No">Insomnio</span> colección para la API de CMS</h3>
		<h4>Obtenga la especificación de OpenAPI para la API de CMS</h4>
		<ol class="bcls-tasklist-restart">
			<li>Abre el <a href="/cms/references/reference.html">Referencia de la API de CMS</a>.</li>
			<li>
				Haga clic en el <strong>Descargar</strong> botón y guardar el <code translate="no">openapi.yaml</code> archivo en un lugar donde pueda encontrarlo nuevamente:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/download-cms-api-openapi-spec.png" alt="Download Open API Specification">
					<figcaption class="bcls-caption--image">Descargar la especificación de API abierta</figcaption>
				</figure>
			</li>
		</ol>
		<h4>Importar la especificación OpenAPI en Insomnia</h4>
    <ol class="bcls-tasklist-restart">
      <li>Lanzar el <span translate="No">Insomnio</span> aplicación.</li>
      <li>Haga clic en el menú desplegable al lado <span translate="No">Insomnio</span> y seleccione <strong>Importación y exportación</strong>:
        <figure class="bcls-figure"><img class="bcls-image" alt="Import/Export" src="/assets/images/general/insomnia/import-export.png" />
          <figcaption class="bcls-caption--image">Importación y exportación</figcaption>
        </figure>
      </li>
			<li>
				En el cuadro de diálogo que se abre, haga clic en <strong>Datos de importacion</strong> y seleccione <strong>Desde el archivo</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/import-data-from-file.png" alt="Import Data from File">
					<figcaption class="bcls-caption--image">Importar datos de archivo</figcaption>
				</figure>
			</li>
			<li>
				Selecciona el <code translate="no">openapi.yaml</code> archivo que descargó y luego elija si desea importar los datos al espacio de trabajo actual o crear uno nuevo. Cualquiera funcionará, pero recomendamos crear un nuevo espacio de trabajo para cada API:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/create-new-workspace.png" alt="Create New Workspace">
					<figcaption class="bcls-caption--image">Crear nuevo espacio de trabajo</figcaption>
				</figure>
			</li>
			<li>
				A continuación, se le preguntará si desea importar los datos como una colección de solicitud o un documento de diseño. Escoger <strong>Solicitar colección</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/import-request-collection.png" alt="Import as Request Collection">
					<figcaption class="bcls-caption--image">Importar como colección de solicitudes</figcaption>
				</figure>
			</li>
			<li>Verá un cuadro de diálogo que confirma que los datos fueron importados.</li>
			<li>
				Haga clic en <strong>Tablero</strong> en la esquina superior izquierda para ver sus espacios de trabajo. Si creó un nuevo espacio de trabajo, verá que se muestra con el nombre apropiado:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/cms-api-workspace.png" alt="CMS API Workspace">
					<figcaption class="bcls-caption--image">Espacio de trabajo de la API de CMS</figcaption>
				</figure>
			</li>
      <li>Haga clic en el espacio de trabajo para abrirlo.</li>
			<li>
				Verá una lista de carpetas que contienen los diversos grupos de solicitudes para la API de CMS, y también un nuevo entorno OpenAPI:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/cms-api-evironment-and-request-folders.png" alt="CMS API Requests and Environment">
					<figcaption class="bcls-caption--image">Solicitudes y entorno de API de CMS</figcaption>
				</figure>
			</li>
    </ol>
  </section>
	<section class="bcls-section">
		<h2 id="add_variables_to_environment">Agregar variables al entorno</h2>
		<p>Este es un paso opcional, pero simplificará la configuración de la autenticación para solicitudes más adelante.</p>
		<ol class="bcls-tasklist-restart">
			<li>
				Clickea en el <strong>Env OpenAPI</strong> menú desplegable y seleccione <strong>Gestionar entornos</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/" alt="Manage Environments">
					<figcaption class="bcls-caption--image">Gestionar entornos</figcaption>
				</figure>
			</li>
			<li>
				Verá las variables de entorno que <span translate="no">Insomnio</span> creado a partir de la especificación de OpenAPI en forma de JSON:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/environment-json.png" alt="Environment Variables">
					<figcaption class="bcls-caption--image">Variables de entorno</figcaption>
				</figure>
			</li>
			<li>
				Agregue estas variables adicionales al JSON (consulte <a href="#getCredentials">Obtener credenciales de cliente</a> arriba en el <code translate="no">Identificación del cliente</code> y <code translate="no">client_secret</code>):
				<ul>
					<li><code translate="no">"ID de la cuenta": "<span class="bcls-input">your_account_id</span>"</code></li>
					<li><code translate="no">"Identificación del cliente": "<span class="bcls-input">your_client_id</span>"</code></li>
					<li><code translate="no">"client_secret": "<span class="bcls-input">your_client_secret</span>"</code></li>
					<li>"access_token_url": "https://oauth.brightcove.com/v4/access_token"<code translate="no"></code></li>
				</ul>
			</li>
			<li>
				Cuando haya terminado, el entorno JSON debería verse similar a esto:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/environment-vars-added.png" alt="Environment Variables Added">
					<figcaption class="bcls-caption--image">Variables de entorno agregadas</figcaption>
				</figure>
			</li>
			<li>Hacer clic <strong>Hecho</strong> en la esquina inferior derecha para salir del diálogo.</li>
		</ol>
	</section>
  <section class="bcls-section">
    <h2 id="Set_up_authentication">Configurar autenticación</h2>
    <p>Ahora estamos listos para configurar la autenticación para solicitudes de API.</p>
    <ol class="bcls-tasklist-restart">
      <li>Haga clic en el <strong>Videos</strong> carpeta y seleccione la <strong>Obtener videos</strong>:
        <figure class="bcls-figure"><img class="bcls-image" alt="New Request" src="/assets/images/general/insomnia/18462-new-request.png" />
          <figcaption class="bcls-caption--image">Nueva solicitud</figcaption>
        </figure>
      </li>
			<li>
				Observe que la URL de la solicitud ya contiene dos variables. Si hace clic en ellos, puede ver (y modificar) sus valores. <code translate="no">base_url</code> es generado automáticamente por <span class="”notranslate”">Insomnio</span> de la especificación de OpenAPI. Si hace clic en <code translate="no">ID de la cuenta</code> , debería encontrar que el valor coincide con lo que ingresó como variable de entorno en la sección anterior.</li>
      <li>
				Haga clic en el <strong>Auth</strong> pestaña y la <strong>Menú desplegable de autenticación</strong> menú y seleccione <strong>OAuth 2.0</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/select-auth-type.png" alt="Select Auth Type">
					<figcaption class="bcls-caption--image">Seleccione el tipo de autenticación</figcaption>
				</figure>
			</li>
      <li>
				Haga clic en el <strong>Tipo de subvención</strong> desplegable y seleccione <strong>Credenciales de cliente</strong>:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/" alt="Select Grant Type">
					<figcaption class="bcls-caption--image">Seleccione el tipo de concesión</figcaption>
				</figure>
      </li>
      <li>
				En el <strong>URL de token de acceso</strong> campo, comience a escribir "access_token_url"; verá el menú de autocompletar y seleccione su <code translate="no">access_token_url</code> Variable ambiental:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/access-token-url.png" alt="Autocomplete for Variables">
					<figcaption class="bcls-caption--image">Autocompletar para variables</figcaption>
				</figure>
      </li>
      <li>
				Repita el paso anterior para completar el <strong>Identificación del cliente</strong> y <strong>Secreto del cliente</strong> campos con tu <code translate="no">Identificación del cliente</code> y <code translate="no">client_secret</code> variables:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/auth-variables.png" alt="Auth Variables">
					<figcaption class="bcls-caption--image">Variables de autenticación</figcaption>
				</figure>
			</li>
      <li>
				Desplácese hacia abajo para ver el <strong>Obtener token</strong> y haga clic en él. Asegúrese de ver el campo Token de acceso lleno con un token:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/access-token.png" alt="Access Token">
					<figcaption class="bcls-caption--image">Token de acceso</figcaption>
				</figure>
			</li>
      <li>Hacer clic <strong>Obtener fichas</strong> para asegurarse de que esto funcione. Debería ver una respuesta como esta:
        <figure class="bcls-figure"><img class="bcls-image" alt="Access Token" src="/assets/images/general/insomnia/18462-access-token.png" />
          <figcaption class="bcls-caption--image">Token de acceso</figcaption>
        </figure>
        <aside class="bcls-aside bcls-aside--information">Una de las buenas características de <span translate="No">Insomnio</span> es que una vez que configura esto, lo hace <strong>no</strong> tienes que actualizar el token manualmente - <span translate="No">Insomnio</span> obtendrá nuevos automáticamente a medida que se necesiten.</aside>
      </li>
			<li>
				Ve a la <strong>Encabezamiento</strong> pestaña y eliminar la <strong>Autorización</strong> encabezado (la autenticación que acaba de configurar se hará cargo de la cabeza, esta la romperá):
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/remove-authorization-header.png" alt="Remove Authorization Header">
					<figcaption class="bcls-caption--image">Eliminar encabezado de autorización</figcaption>
				</figure>
			</li>
    </ol>
		<aside class="bcls-aside bcls-aside--information">Notas:
			<ul>
				<li><span class="”notranslate”">Insomnio</span> no replica la configuración de autenticación a otras solicitudes, por lo que deberá repetir estos pasos para cada solicitud que desee probar.</li>
				<li>Una de las buenas características de <span class="”notranslate”">Insomnio</span> , sin embargo, es que una vez que configure la autenticación OAuth 2, automáticamente obtendrá nuevos tokens de acceso según sea necesario. No es necesario que recupere manualmente uno nuevo cuando caduque el existente.</li>
			</ul>
		</aside>
  </section>
	<section class="bcls-section">
		<h2 id="Make_a_request">Hacer una solicitud</h2>
		<p>Ahora estamos listos para hacer un <strong>Obtener videos</strong> solicitud.</p>
		<ol class="bcls-tasklist-restart">
			<li>Dado que este es un <code translate="no">OBTENER</code> solicitud, todo lo que tienes que hacer es hacer clic <strong>Enviar</strong>.</li>
			<li>
				Debería ver aparecer la respuesta JSON en el área Respuesta:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/get-response.png" alt="API Response">
					<figcaption class="bcls-caption--image">Respuesta de API</figcaption>
				</figure>
			</li>
			<li>
				Tenga en cuenta que puede recuperar diferentes conjuntos de videos usando <strong>Consulta</strong> params. Haga clic en el <strong>Consulta</strong> pestaña para la solicitud, y verá que <span class="”notranslate”">Insomnio</span> lo ha poblado según la especificación de OpenAPI. Simplemente verifique los parámetros que desea usar y establezca los valores:
				<figure class="bcls-figure">
					<img class="bcls-image" src="/assets/images/general/insomnia/query-params.png" alt="Query Params">
					<figcaption class="bcls-caption--image">Parámetros de consulta</figcaption>
				</figure>
			</li>
	</ol>
	</section>
  <section class="bcls-section">
    <h2 id="postRequest">Enviar una <code translate="No">POST</code> solicitud</h2>
    <p>Ahora, enviaremos un <code translate="No">POST</code> solicitud con algunos datos. En este caso, crearemos un nuevo objeto de video usando la API de CMS. Empiece por seleccionar el <strong>Crear video</strong> solicitud en el <strong>Videos</strong> carpeta.</p>
    <ol class="bcls-tasklist-restart">
			<li>Repita todos los pasos del <a href="#Set_up_authentication">Configurar autenticación</a> sección anterior para configurar la autenticación para esta nueva solicitud.</li>
			<li>
				Esta solicitud requiere un cuerpo de solicitud, así que haga clic en la pestaña JSON e ingrese este código JSON para reemplazar el <code translate="no">nulo</code>:
<pre class="line-numbers"><code class="language-json" translate="No">{
	"name": "Insomnia Test"
}</code></pre>
<figure class="bcls-figure">
  <img class="bcls-image" src="/assets/images/general/insomnia/request-body.png" alt="Request Body">
  <figcaption class="bcls-caption--image">Cuerpo de solicitud</figcaption>
</figure>
			</li>
			<li>Hacer clic <strong>Enviar</strong> y debería ver el nuevo objeto de video devuelto en la respuesta.</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Using_the_code_generators">Usando los generadores de código</h2>
    <p>Otra buena característica de <span class="”notranslate”">Insomnio</span> es que generará código para realizar solicitudes en muchos idiomas diferentes.</p>
    <ol class="bcls-tasklist-restart">
      <li>
        Desplácese y haga clic en el menú desplegable para una solicitud:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/dropdown-menu-for-requests.png" alt="Request Dropdown Menu">
          <figcaption class="bcls-caption--image">Solicitar menú desplegable</figcaption>
        </figure>
      </li>
      <li>
        Seleccione <strong>Generar codigo</strong> del menú:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/generate-code-option.png" alt="Select Generate Code">
          <figcaption class="bcls-caption--image">Seleccione Generar código</figcaption>
        </figure>
      </li>
      <li>
        En el <strong>Generar código de cliente</strong> cuadro de diálogo que se abre, elija el idioma para el que desea el código:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/choose-code-type.png" alt="Select the Language">
          <figcaption class="bcls-caption--image">Seleccione el idioma</figcaption>
        </figure>
      </li>
      <li>
        Para muchos de los idiomas, también hay variantes que puede seleccionar que pueden ser más adecuadas para el tipo de aplicación que está creando:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/choose-code-variants.png" alt="Select Code Variant">
          <figcaption class="bcls-caption--image">Seleccionar variante de código</figcaption>
        </figure>
      </li>
      <li>
        También hay un botón útil para copiar el código a su portapapeles:
        <figure class="bcls-figure">
          <img class="bcls-image" src="/assets/images/general/insomnia/view-copy-code.png" alt="View and Copy Code">
          <figcaption class="bcls-caption--image">Ver y copiar código</figcaption>
        </figure>
      </li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Conclusion">Conclusión</h2>
    <p>Ahora conoce los conceptos básicos del uso <span translate="No">Insomnio</span> para realizar solicitudes a las API de Brightcove. Tenga en cuenta que si elige actualizar su <span translate="No">Insomnio</span> cuenta a una cuenta de equipo, también puede sincronizar todas sus solicitudes y entornos y compartirlos con otros miembros del equipo.</p>
  </section>
</article>