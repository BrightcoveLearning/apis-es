---
title: 'Insertar API'
description: '<p>Este tema le ayudará a decidir cuándo y cómo utilizar las API de inserción. La decisión de elegir entre usar las API de configuración del reproductor o las API de inserción es importante y el contenido de este documento lo guiará en estas decisiones.</p>
<aside class="bcls-aside bcls-aside--information">Las declaraciones de curl en esta guía se basan en el trabajo realizado en el <a href="/player-management/getting-started/step-step-player-management.html">Inicio rápido: Gestión de jugadores</a>. Trabajar a través de esta guía después de hacer el Inicio rápido a la Administración de jugadores le permite ver los cambios realizados en un reproductor secundario y, lo que es más importante, las características heredadas del reproductor principal.</aside>'
parent: Guides 
grandparent: Player Management API
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="whatisembed">¿Por qué utilizar las API de inserción?</h2>
    
    <p>Las API de inserción le permiten crear varias instancias de un reproductor en particular. Una buena forma de pensar en esta relación jugador / instancia es como una relación padre / hijo. El jugador único es el padre, y los reproductores creados con las API incorporadas son hijos del jugador padre. El reproductor principal tiene la mayor parte de las propiedades que desea que tenga su reproductor, y luego puede usar las API de inserción para personalizar subconjuntos de propiedades en diferentes reproductores secundarios. Por ejemplo, puede cargar diferentes medios o usar diferentes complementos y estilos con diferentes reproductores infantiles.</p>
    
    <p>Los siguientes diagramas ayudan a aclarar la funcionalidad. Debajo, el padre se muestra a la izquierda y dos jugadores secundarios a la derecha. Observa eso:</p>
    
    <ul>
      <li>El cartel es heredado por ambos hijos.</li>
      <li>La forma del botón de reproducción es heredada por el hijo superior, mientras que se anula en el hijo inferior.</li>
      <li>El hijo superior agrega una propiedad, en este caso una superposición, que el padre no tiene</li>
    </ul>
    
    <figure class="bcls-figure"><img class="bcls-image" alt="Child Adds Property" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/player-management-api/guides/embeds/embeds-api-guide-parent-child-1.png" />
    <figcaption class="bcls-caption--image">El niño agrega propiedad</figcaption>
    </figure>
    
    <p>Otra característica poderosa de esta relación padre / hijo es que la herencia está en curso. El siguiente diagrama muestra un nuevo póster asignado al padre, y ambos hijos heredarán ese cambio de configuración.</p>
    
    <figure class="bcls-figure"><img class="bcls-image" alt="Children Inherit Changes" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/player-management-api/guides/embeds/embeds-api-guide-parent-child-2.png" />
    <figcaption class="bcls-caption--image">Los niños heredan los cambios</figcaption>
    </figure>
    
    <aside class="bcls-aside bcls-aside--information">Nota: De forma predeterminada, está limitado a 50 jugadores secundarios por cada jugador principal. Si tiene un caso de uso para obtener más información, comuníquese con el soporte y analice la situación con ellos.</aside>
    </section>
    
    <section id="When_not_to_use" class="bcls-section">
    <h2>Cuándo NO usar las API de inserción</h2>
    
    <p>Si bien hay algunas buenas razones para usar las API de inserción si su caso de uso lo necesita, también hay algunas buenas razones para seguir con los reproductores habituales. A continuación, presentamos algunos:</p>
    
    <ul>
      <li>Los reproductores infantiles no se pueden editar con Video Cloud Studio. Solo puede editar jugadores infantiles a través de la API de administración de jugadores. Puede editar el reproductor principal de un reproductor secundario en Video Cloud Studio; sin embargo, un cambio realizado en el reproductor principal afecta a todos los reproductores secundarios.</li>
      <li>La publicación de un reproductor principal puede llevar mucho tiempo si tiene muchos reproductores secundarios asociados con ese reproductor principal. Cada reproductor secundario se publica por separado, y si tiene más de 30 reproductores secundarios, puede esperar algunos retrasos en la publicación de su reproductor secundario. Este sería exactamente el mismo caso que publicar 30 jugadores regulares al mismo tiempo.</li>
    </ul>
    
    <p>Dadas las razones anteriores, puede tener sentido comenzar con el uso de reproductores normales y luego probar las incrustaciones cuando vea la necesidad de reproductores infantiles.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="video_tag_data-embed">incrustación de datos de etiqueta de video</h2>
    
    <p>Hay diferencias de notación en los reproductores de padres e hijos. El código estándar del reproductor insertado en la página aparece en este formato:</p>
    
    <pre class="line-numbers">
    <code class="language-html" translate="No">&lt;video-js
      data-account="1507807800001"
      data-player="HiAdwRZ7kK"
      <span class="bcls-highlight">data-embed="default"</span>
      controls=""
      data-application-id=""
      class="vjs-fluid"&gt;&lt;/video-js&gt;</code></pre>
    
    <p>La <code translate="No">data-embed</code> El atributo determina si el jugador es padre o hijo. Si el valor es <code translate="No">default</code> , el jugador es padre. Si el jugador es un niño, el <code translate="No">data-embed</code> El atributo contendrá la ID del jugador padre. Un ejemplo de eso sigue:</p>
    
    <p>La <code translate="No">data-embed</code> El atributo determina si el jugador es padre o hijo. Si el valor es <code translate="No">default</code> , el jugador es padre. Si el jugador es un niño, el <code translate="No">data-embed</code> El atributo contendrá la ID del jugador padre. Un ejemplo de eso sigue:</p>
    
    <pre class="line-numbers">
    <code class="language-html" translate="No">&lt;video-js
      data-account="1507807800001"
      data-player="HiAdwRZ7kK"
      <span class="bcls-highlight">data-embed="NURK56ZSV"</span>
      data-application-id=""
      class="video-js" controls&gt;&lt;/video-js&gt;</code></pre>
    
    <p>Tenga en cuenta que el <code translate="No">data-player</code> , ese es el ID del jugador, es el mismo, pero el <code translate="No">data-embed</code> ha cambiado de <code translate="No">default</code> a la identificación del jugador infantil.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="notation">URL de reproductores secundarios</h2>
    
    <p>¿Cómo diferencia entre el jugador padre y el jugador hijo? Las URL serán diferentes. Por ejemplo, la URL de un jugador padre es:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">//players.brightcove.net/1507807800001/HiAdwRZ7kK<span class="bcls-highlight">_default</span>/index.min.js</code></pre>
    
    <p>Después de usar las API de inserción para crear un reproductor secundario, la ID del reproductor secundario se agregó a la URL del padre, como se muestra aquí:</p>
    
    <pre class="line-numbers">
    <code class="language-http" translate="No">//players.brightcove.net/1507807800001/HiAdwRZ7kK<span class="bcls-highlight">_NURK56ZSV</span>/index.min.js</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="why">Caso de uso padre / hijo</h2>
    
    <p>Suponga que usa varios reproductores de video. A menudo, las características comunes de los reproductores son casi las mismas, pero en algunos casos querrá modificar el reproductor para casos especiales. Puede crear varios jugadores utilizando las API de configuración del jugador con <code translate="No">POST</code> y <code translate="No">PATCH</code> métodos, pero esto podría dar lugar a problemas de mantenimiento importantes. Por ejemplo, supongamos que desea cambiar el cartel de todos los jugadores. Esto significaría usar <code translate="No">PATCH</code> en todos los diferentes jugadores. Mientras que si creara reproductores infantiles, solo <code translate="No">PATCH</code> el jugador padre, y todos los jugadores secundarios tendrían automáticamente el nuevo cartel.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="creationprocess">Proceso de creación</h2>
    
    <p>Si ha hecho el <a href="/player-management/getting-started/step-step-player-management.html">Paso a paso: Gestión de jugadores</a> ha visto el proceso de usar declaraciones curl para comunicar métodos HTTP a la API de administración de jugadores. Aquí se utilizará el mismo enfoque.</p>
    
    <p>Para crear un reproductor, lo más probable es que haya utilizado algunos métodos HTTP con las API de configuración del reproductor, como:</p>
    
    <ul>
      <li>Crea el jugador usando un <code translate="No">POST</code> para <em>https://players.api.brightcove.com/v2/accounts/{account_id} jugadores</em></li>
      <li>Actualice el reproductor usando un <code translate="No">PATCH</code> para <em>https://players.api.brightcove.com/v2/accounts/{account_id} jugadores /{player_id}/configuración</em></li>
      <li>Publique el reproductor actualizado usando un <code translate="No">POST</code> para <em>https://players.api.brightcove.com/v2/accounts/{account_id} jugadores /{player_id}/publicar</em></li>
    </ul>
    
    <p>Se utilizará un enfoque similar para los jugadores infantiles que utilizan las API de inserción. A un nivel muy alto:</p>
    
    <ul>
      <li>Crea un jugador infantil usando un <code translate="No">POST</code> para <em>https://players.api.brightcove.com/v2/accounts/{account_id} jugadores /{player_id}/<strong>incrusta</strong></em>. Nota: Los reproductores secundarios creados con las API incorporadas se publican automáticamente en la creación, por lo que no es necesario publicar en la creación del reproductor secundario, solo en la actualización del reproductor secundario.</li>
      <li>Actualiza el reproductor infantil usando un <code translate="No">PATCH</code> para <em>https://players.api.brightcove.com/v2/accounts/{account_id} jugadores /{player_id}/<strong>embeds / $ EMBED_ID / configuration</strong></em></li>
      <li>Publique el reproductor secundario usando un <code translate="No">POST</code> para <em>https://players.api.brightcove.com/v2/accounts/{account_id} jugadores /{player_id}/<strong>embeds / $ EMBED_ID / publish</strong></em></li>
    </ul>
    
    <p>El siguiente contenido describe el proceso en detalle.</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="createembed">Crear jugador hijo</h2>
    
    <p>Para crear un reproductor infantil, usa un HTTP <code translate="No">POST</code> método, como se muestra aquí:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl /
    --header "Content-Type: application/json" /
    --user $EMAIL /
    --request POST /
    --data '{
    "media": {
    "sources": [
      {
        "src":"http://solutions.brightcove.com/bcls/assets/videos/BirdsOfAFeather.mp4",
        "type":"video/mp4"
      }
    ],
    "poster": {
      "highres":"http://solutions.brightcove.com/bcls/assets/images/BirdsOfAFeather.jpg"
    }
    }
      }' /
    https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="255-272"></code></p> -->
    
    <p>Una respuesta de ejemplo a la creación de un reproductor secundario es la siguiente:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "id": "be864624-8d85-4dfc-8fe6-4e9dd4c70417",
        "url": "http://players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html",
        "embed_code": "&lt;iframe src='//players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;",
        "embed_in_page": "http://players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/in_page.embed",
        "preview_url": "http://preview-players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c/be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html",
        "preview_embed_code": "&lt;iframe src='//preview-players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c/be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;"
    }</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="322-329"></code></p> -->
    
    <p class="BCL-aside">Nota: El reproductor secundario se publica automáticamente en la creación, por lo que no es necesario publicar el reproductor secundario después de la creación. Aún debe publicar el reproductor secundario si se modifica con un <code translate="No">PATCH</code> método. En este punto, la información de vista previa no es útil, ya que puede usar el reproductor secundario publicado inmediatamente después de la creación.</p>
    
    <p>Ahora puede usar el <code translate="No">url</code> propiedad del reproductor secundario para ver los resultados. En el siguiente ejemplo, el reproductor secundario se agregó al reproductor principal creado en el Paso a paso: Gestión de jugadores. Verá el póster y el video nuevos, pero el complemento de superposición del reproductor principal todavía está presente.</p>
    
    <figure class="bcls-figure"><img class="bcls-image" alt="Child Player with Parent's Overlay" src="//learning-services-media.brightcove.com/doc-assets/video-cloud-apis/player-management-api/guides/embeds/embed-guide-robin.png" />
    <figcaption class="bcls-caption--image">Reproductor secundario con superposición de los padres</figcaption>
    </figure>
    </section>
    
    <section class="bcls-section">
    <h2 id="updateembed">Actualizar reproductor infantil</h2>
    
    <p>Para actualizar el reproductor infantil, usa un HTTP <code translate="No">PATCH</code> método. La siguiente declaración de curl actualiza el <code translate="No">poster</code> propiedad. Se asume que ha configurado el <code translate="No">$EMBED_ID</code> variable de entorno de forma adecuada:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl
    --header "Content-Type: application/json"
    --user $EMAIL
    --request PATCH
    --data '{
    "media": {
    "poster": {
      "highres":"http://solutions.brightcove.com/bcls/assets/images/Water-Splashing.jpg"
    }
    }
      }'
    https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds/$EMBED_ID/configuration
    </code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="336-347"></code></p> -->
    
    <p>La respuesta proporciona información de vista previa tanto para un <code translate="No">preview_url</code> y <code translate="No">preview_embed_code</code> código:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "preview_url": "http://preview-players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c/be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html",
        "preview_embed_code": "&lt;iframe src='//preview-players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c/be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;"
    }</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="350-353"></code></p> --></section>
    
    <section class="bcls-section">
    <h2 id="publishembed">Publicar reproductor secundario</h2>
    
    <p>Una vez que se modifique el reproductor secundario, deberá publicarlo. Asegúrate de <code translate="No">$EMBED_ID</code> La variable de entorno está configurada y luego puede publicar el reproductor secundario recién modificado:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl
    --header "Content-Type: application/json"
    --user $EMAIL
    --request POST
    https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds/$EMBED_ID/publish</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="281-285"></code></p> -->
    
    <p>La respuesta proporciona la información vital necesaria para usar el reproductor secundario, de manera muy similar a como lo hace la publicación de un reproductor:</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
        "id": "be864624-8d85-4dfc-8fe6-4e9dd4c70417",
        "url": "http://players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html",
        "embed_code": "&lt;iframe src='//players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;",
        "embed_in_page": "http://players.brightcove.net/1507807800001/668c5107-a80c-4940-8c17-279c01ce101c_be864624-8d85-4dfc-8fe6-4e9dd4c70417/in_page.embed"
    }</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="357-362"></code></p> --></section>
    
    <section class="bcls-section">
    <h2 id="displayembed">Mostrar información del niño</h2>
    
    <p>Puede utilizar HTTP <code translate="No">GET</code> método para recuperar la información sobre un jugador infantil. Un ejemplo de declaración curl es:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl
      --header "Content-Type: application/json"
      --user $EMAIL
      --request GET
      https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="297-310"></code></p> --></section>
    
    <p>Se devuelve una cantidad bastante grande de datos JSON.</p>
    
    <section class="bcls-section">
    <h2 id="deletingembeds">Eliminar jugadores secundarios</h2>
    
    <p>También puede eliminar un reproductor secundario utilizando el <code translate="No">DELETE</code> método. Aquí hay un ejemplo de declaración curl para eliminar un jugador secundario:</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl
    --header "Content-Type: application/json"
    --user $EMAIL
    --request DELETE
    https://players.api.brightcove.com/v2/accounts/{account_id}/players/$PLAYER_ID/embeds/$EMBED_ID</code></pre>
    <!-- <p><code data-gist-id="11401488" data-gist-hide-footer="true" data-gist-line="314-318"></code></p> -->
    
    <p>Por supuesto, esto afectará solo al jugador hijo y no al jugador padre.</p>
    </section>